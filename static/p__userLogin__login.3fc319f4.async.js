(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"5dcc":function(y,s,e){"use strict";e.d(s,"c",function(){return E}),e.d(s,"d",function(){return R}),e.d(s,"g",function(){return C}),e.d(s,"e",function(){return a}),e.d(s,"a",function(){return m}),e.d(s,"b",function(){return n}),e.d(s,"f",function(){return U});var p=e("jrin"),D=e("9og8"),l=e("WmNS"),c=e.n(l),M=e("MZJn"),P=e("fe1z"),b=e("p46w"),I=e.n(b),u=e("9kvl");function E(t){return t===""||t===void 0||t===null}function R(t){return t===0?M.a:t}function C(t,o){return E(t)?o:t}function g(t,o){var f=(t-o)/1e3/3600/24,B=Math.floor(f),i=(f-B)*24,T=Math.floor(i),j=(i-T)*60,L=Math.floor(j),W=(j-L)*60,h=Math.floor(W),K=B+"\u5929"+T+"\u5C0F\u65F6"+L+"\u5206";return K}function a(){return r.apply(this,arguments)}function r(){return r=Object(D.a)(c.a.mark(function t(){var o,f;return c.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(P.c)();case 2:o=i.sent,f=o.code,f==200&&(u.e.push("/user/login"),localStorage.getItem("address")&&localStorage.removeItem("address"),I.a.remove("token"));case 5:case"end":return i.stop()}},t)})),r.apply(this,arguments)}function m(t){var o=_.trim(t);return o=o.replace(/[^\d^\.]+/g,"").replace(".","$#$").replace(/\./g,"").replace("$#$","."),o}function n(t){var o=_.trim(t);return o=o.replace(/[^\x00-\xff]/g,""),o}function U(t,o){for(var f in t)o.setFieldsValue(Object(p.a)({},f,t[f]))}},BdNu:function(y,s,e){y.exports={submitButton:"submitButton___17kn1"}},MZJn:function(y,s,e){"use strict";e.d(s,"a",function(){return p});var p="--"},VgcH:function(y,s,e){"use strict";e.r(s);var p=e("5NDa"),D=e("5rEg"),l=e("/xke"),c=e("TeRw"),M=e("9og8"),P=e("jrin"),b=e("k1fw"),I=e("y8nQ"),u=e("Vl3Y"),E=e("tJVT"),R=e("WmNS"),C=e.n(R),g=e("q1tI"),a=e.n(g),r=e("Zy3s"),m=e.n(r),n=e("TSYQ"),U=e.n(n),t=e("9kvl"),o=e("p46w"),f=e.n(o),B=e("fe1z"),i=e("ww3E"),T=function(L){var W=u.a.useForm(),h=Object(E.a)(W,1),K=h[0],z=Object(g.useState)({account:"",password:""}),S=Object(E.a)(z,2),J=S[0],Q=S[1],V=function(O){for(var v in O)Q(Object(b.a)(Object(b.a)({},J),{},Object(P.a)({},"".concat(v),O[v])))},x=function(){var A=Object(M.a)(C.a.mark(function O(){var v,$,F,G,N,H;return C.a.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,d.next=3,K.validateFields();case 3:return v=d.sent,$={user:v.account,pwd:v.password,device:0},d.next=7,Object(B.b)($);case 7:if(F=d.sent,G=F.data,N=F.code,N==200&&(H=G.token,f.a.set("token",H),t.e.push("/userIndex/index")),N!=650){d.next=13;break}return d.abrupt("return",c.default.error({description:"\u7528\u6237\u540D\u6216\u5BC6\u7801\u4E0D\u6B63\u786E"}));case 13:if(N!=681){d.next=15;break}return d.abrupt("return",c.default.error({description:"\u8BF75\u5206\u949F\u540E\u91CD\u8BD5"}));case 15:d.next=20;break;case 17:d.prev=17,d.t0=d.catch(0),console.log("Failed:",d.t0);case 20:case"end":return d.stop()}},O,null,[[0,17]])}));return function(){return A.apply(this,arguments)}}();return a.a.createElement("div",{className:U()([m.a.LoginCont,"input_height_48"])},a.a.createElement("div",{className:m.a.describe},"\u767B\u5F55"),a.a.createElement(u.a,{form:K},a.a.createElement("div",{className:m.a.formItem},a.a.createElement("div",{className:m.a.item},a.a.createElement(u.a.Item,{name:"account",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"}],getValueFromEvent:function(O){var v=_.trim(O.target.value);return v=v.replace(/[^\x00-\xff]/g,""),v}},a.a.createElement(D.a,{autoComplete:"off",placeholder:"\u7528\u6237\u540D",onChange:function(O){V({account:O.target.value})}}))),a.a.createElement("div",{className:m.a.item},a.a.createElement(u.a.Item,{name:"password",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801"}],getValueFromEvent:function(O){var v=_.trim(O.target.value);return v}},a.a.createElement(D.a,{autoComplete:"off",maxLength:15,placeholder:"\u5BC6\u7801",type:"password",onChange:function(O){V({password:_.trim(O.target.value)})}}))),a.a.createElement(i.a,{submitButtononClick:function(){return x()},style:{marginBottom:"48px"},text:"\u767B\u5F55"}))),a.a.createElement("div",{className:m.a.bg2}))};s.default=T},Zy3s:function(y,s,e){y.exports={"ant-layout-sider":"ant-layout-sider___7QJEB","ant-menu-dark":"ant-menu-dark___1ce-8","ant-menu-sub":"ant-menu-sub___3VQYi","ant-menu-item":"ant-menu-item___3s6or","ant-menu-submenu-inline":"ant-menu-submenu-inline___oGwDQ","ant-menu-submenu":"ant-menu-submenu___2t4NE","ant-menu-submenu-title":"ant-menu-submenu-title___21KZU","ant-menu-inline":"ant-menu-inline___VLMje","ant-menu-horizontal":"ant-menu-horizontal___2PbAW","ant-menu-item-selected":"ant-menu-item-selected___wGgPm","ant-menu":"ant-menu___2fOaH","ant-menu-submenu-popup":"ant-menu-submenu-popup___27QUp","ant-pro-sider-logo":"ant-pro-sider-logo___1sUvF","ant-table-tbody":"ant-table-tbody___2CMHz","ant-table-thead":"ant-table-thead___1fv4g","ant-input":"ant-input___2_5YR","ant-form-item-label":"ant-form-item-label___2Rrl9","has-error":"has-error___2i_sQ",Formlabel1:"Formlabel1___QoVjH",Formlabel2:"Formlabel2___3HOCe",Formlabel_label_width_122:"Formlabel_label_width_122___32F78",Formlabel_label_lineHeigh_14:"Formlabel_label_lineHeigh_14___3Q4DB",input_height_48:"input_height_48___2Rmu6",input_height_44:"input_height_44___1pGjA",select_height_44:"select_height_44___2oxKI","ant-select-single":"ant-select-single___3e3t0","ant-select-selector":"ant-select-selector___wEqCP","ant-select-selection-item":"ant-select-selection-item___1yRuz","ant-select-selection-placeholder":"ant-select-selection-placeholder___uy8_i","ant-select-customize-input":"ant-select-customize-input___8He8V","ant-input-affix-wrapper":"ant-input-affix-wrapper___3N94f","ant-spin-nested-loading":"ant-spin-nested-loading___3Ym3h","ant-btn-primary":"ant-btn-primary___2-NoO",LoginCont:"LoginCont___bIYHx",describe:"describe___xLyn9",formItem:"formItem___3oKG8",bg2:"bg2___2BraI"}},fe1z:function(y,s,e){"use strict";e.d(s,"a",function(){return M}),e.d(s,"b",function(){return b}),e.d(s,"c",function(){return u});var p=e("9og8"),D=e("WmNS"),l=e.n(D),c=e("t3Un");function M(){return P.apply(this,arguments)}function P(){return P=Object(p.a)(l.a.mark(function g(){var a,r=arguments;return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a=r.length>0&&r[0]!==void 0?r[0]:{},n.abrupt("return",Object(c.a)("host",{method:"GET",params:{},body:JSON.stringify(a)},Object({NODE_ENV:"production"}).getAPI));case 2:case"end":return n.stop()}},g)})),P.apply(this,arguments)}function b(){return I.apply(this,arguments)}function I(){return I=Object(p.a)(l.a.mark(function g(){var a,r=arguments;return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a=r.length>0&&r[0]!==void 0?r[0]:{},n.abrupt("return",Object(c.a)("user/login",{method:"POST",params:{},body:JSON.stringify(a)},Object({NODE_ENV:"production"}).API));case 2:case"end":return n.stop()}},g)})),I.apply(this,arguments)}function u(){return E.apply(this,arguments)}function E(){return E=Object(p.a)(l.a.mark(function g(){var a,r=arguments;return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a=r.length>0&&r[0]!==void 0?r[0]:{},n.abrupt("return",Object(c.a)("user/exit",{method:"GET",params:{},body:JSON.stringify(a)},Object({NODE_ENV:"production"}).API));case 2:case"end":return n.stop()}},g)})),E.apply(this,arguments)}function R(){return C.apply(this,arguments)}function C(){return C=Object(p.a)(l.a.mark(function g(){var a,r=arguments;return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a=r.length>0&&r[0]!==void 0?r[0]:{},n.abrupt("return",Object(c.a)("miner/summary",{method:"GET",params:{},body:JSON.stringify(a)},Object({NODE_ENV:"production"}).API));case 2:case"end":return n.stop()}},g)})),C.apply(this,arguments)}},t3Un:function(y,s,e){"use strict";e.d(s,"a",function(){return a});var p=e("9og8"),D=e("jrin"),l=e("k1fw"),c=e("WmNS"),M=e.n(c),P=e("Qyje"),b=e.n(P),I=function(m,n){var U=m,t=Object.keys(n);return t.length!=0&&(U+="?"+b.a.stringify(n)),U},u=e("p46w"),E=e.n(u),R=e("9kvl"),C=e("5dcc"),g=e("Hg0r").fetch;function a(r){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",U={method:"GET"},t=Object(l.a)(Object(l.a)({},U),m);t.headers=Object(l.a)(Object(D.a)({Accept:"application/json"},"accept-language",localStorage.getItem("umi_locale")||"zh-CN"),t.headers),E.a.get("token")&&(t.headers.token=E.a.get("token"));var o="";return r=="host"?o=n:o=localStorage.getItem("address")?"http://"+localStorage.getItem("address")+"/":n,r=I(r,m.params),t.method=="GET"&&delete t.body,g(o+r,t).then(function(){var f=Object(p.a)(M.a.mark(function B(i){var T,j,L;return M.a.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return T=i.status,h.next=3,i.json();case 3:if(j=h.sent,!(i.status>=200&&i.status<300)){h.next=7;break}return j.code==680&&(R.e.push("/user/login"),localStorage.getItem("address")&&localStorage.removeItem("address"),E.a.remove("token")),h.abrupt("return",j);case 7:if(!(T>=400||T>=500)){h.next=12;break}throw L=new Error,L.response=i,L.data=j,L;case 12:case"end":return h.stop()}},B)}));return function(B){return f.apply(this,arguments)}}()).catch(function(f){var B=503,i="\u94FE\u63A5\u670D\u52A1\u5668\u8D85\u65F6";throw i})}},ww3E:function(y,s,e){"use strict";var p=e("+L6B"),D=e("2/Rp"),l=e("q1tI"),c=e.n(l),M=e("BdNu"),P=e.n(M),b=function(u){return c.a.createElement(D.a,{type:"primary",loading:u.uploading?u.uploading:!1,disabled:u.disabled?u.disabled:!1,className:P.a.submitButton,onClick:function(){return u.submitButtononClick()},style:u.style},u.text)};s.a=b}}]);
