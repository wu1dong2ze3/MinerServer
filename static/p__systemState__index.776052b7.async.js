(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"5dcc":function(T,o,e){"use strict";e.d(o,"c",function(){return E}),e.d(o,"d",function(){return U}),e.d(o,"g",function(){return P}),e.d(o,"e",function(){return p}),e.d(o,"a",function(){return v}),e.d(o,"b",function(){return r}),e.d(o,"f",function(){return m});var f=e("jrin"),b=e("9og8"),i=e("WmNS"),c=e.n(i),h=e("MZJn"),t=e("fe1z"),D=e("p46w"),j=e.n(D),u=e("9kvl");function E(a){return a===""||a===void 0||a===null}function U(a){return a===0?h.a:a}function P(a,d){return E(a)?d:a}function y(a,d){var n=(a-d)/1e3/3600/24,O=Math.floor(n),s=(n-O)*24,I=Math.floor(s),g=(s-I)*60,N=Math.floor(g),C=(g-N)*60,S=Math.floor(C),W=O+"\u5929"+I+"\u5C0F\u65F6"+N+"\u5206";return W}function p(){return l.apply(this,arguments)}function l(){return l=Object(b.a)(c.a.mark(function a(){var d,n;return c.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(t.c)();case 2:d=s.sent,n=d.code,n==200&&(u.e.push("/user/login"),localStorage.getItem("address")&&localStorage.removeItem("address"),j.a.remove("token"));case 5:case"end":return s.stop()}},a)})),l.apply(this,arguments)}function v(a){var d=_.trim(a);return d=d.replace(/[^\d^\.]+/g,"").replace(".","$#$").replace(/\./g,"").replace("$#$","."),d}function r(a){var d=_.trim(a);return d=d.replace(/[^\x00-\xff]/g,""),d}function m(a,d){for(var n in a)d.setFieldsValue(Object(f.a)({},n,a[n]))}},"6Ynu":function(T,o,e){"use strict";var f=e("k1fw"),b=e("q1tI"),i=e.n(b),c=function(t){return i.a.createElement("div",{style:Object(f.a)({height:"100%",background:"#fff",borderRadius:"7px"},t.style)},i.a.createElement("div",{style:{height:"54px",lineHeight:"54px",borderBottom:"1px solid #F5F7FD",fontWeight:"600",paddingLeft:"30px",color:"#333",fontSize:"18px"}},t.title," "),i.a.createElement("div",{style:{padding:"0px 30px",marginTop:"24px",color:"#333"}},t.children))};o.a=c},MZJn:function(T,o,e){"use strict";e.d(o,"a",function(){return f});var f="--"},f7Z1:function(T,o,e){T.exports={itemcol:"itemcol___1J_wh",title:"title___2Szav",line:"line___21GXQ",progress:"progress___ZsQHr",rpds:"rpds___1cm0v"}},fe1z:function(T,o,e){"use strict";e.d(o,"a",function(){return h}),e.d(o,"b",function(){return D}),e.d(o,"c",function(){return u});var f=e("9og8"),b=e("WmNS"),i=e.n(b),c=e("t3Un");function h(){return t.apply(this,arguments)}function t(){return t=Object(f.a)(i.a.mark(function y(){var p,l=arguments;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return p=l.length>0&&l[0]!==void 0?l[0]:{},r.abrupt("return",Object(c.a)("host",{method:"GET",params:{},body:JSON.stringify(p)},Object({NODE_ENV:"production"}).getAPI));case 2:case"end":return r.stop()}},y)})),t.apply(this,arguments)}function D(){return j.apply(this,arguments)}function j(){return j=Object(f.a)(i.a.mark(function y(){var p,l=arguments;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return p=l.length>0&&l[0]!==void 0?l[0]:{},r.abrupt("return",Object(c.a)("user/login",{method:"POST",params:{},body:JSON.stringify(p)},Object({NODE_ENV:"production"}).API));case 2:case"end":return r.stop()}},y)})),j.apply(this,arguments)}function u(){return E.apply(this,arguments)}function E(){return E=Object(f.a)(i.a.mark(function y(){var p,l=arguments;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return p=l.length>0&&l[0]!==void 0?l[0]:{},r.abrupt("return",Object(c.a)("user/exit",{method:"GET",params:{},body:JSON.stringify(p)},Object({NODE_ENV:"production"}).API));case 2:case"end":return r.stop()}},y)})),E.apply(this,arguments)}function U(){return P.apply(this,arguments)}function P(){return P=Object(f.a)(i.a.mark(function y(){var p,l=arguments;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return p=l.length>0&&l[0]!==void 0?l[0]:{},r.abrupt("return",Object(c.a)("miner/summary",{method:"GET",params:{},body:JSON.stringify(p)},Object({NODE_ENV:"production"}).API));case 2:case"end":return r.stop()}},y)})),P.apply(this,arguments)}},hGqE:function(T,o,e){"use strict";e.r(o);var f=e("9og8"),b=e("tJVT"),i=e("WmNS"),c=e.n(i),h=e("q1tI"),t=e.n(h),D=e("6Ynu"),j=e("f7Z1"),u=e.n(j),E=e("9kvl"),U=e("hy7T"),P=e("t3Un");function y(){return p.apply(this,arguments)}function p(){return p=Object(f.a)(c.a.mark(function n(){var O,s=arguments;return c.a.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return O=s.length>0&&s[0]!==void 0?s[0]:{},g.abrupt("return",Object(P.a)("system/hardware/version",{method:"GET",params:{},body:JSON.stringify(O)},Object({NODE_ENV:"production"}).API));case 2:case"end":return g.stop()}},n)})),p.apply(this,arguments)}function l(){return v.apply(this,arguments)}function v(){return v=Object(f.a)(c.a.mark(function n(){var O,s=arguments;return c.a.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return O=s.length>0&&s[0]!==void 0?s[0]:{},g.abrupt("return",Object(P.a)("system/hardware/status",{method:"GET",params:{},body:JSON.stringify(O)},Object({NODE_ENV:"production"}).API));case 2:case"end":return g.stop()}},n)})),v.apply(this,arguments)}var r=e("MZJn"),m=e("5dcc"),a=function(){var O=Object(E.i)(),s=O.formatMessage,I=Object(h.useState)({model:"--",cpu:"--",firmwareVersion:"--",firmwareDate:""}),g=Object(b.a)(I,2),N=g[0],C=g[1],S=Object(h.useState)({cpu:"",totalRam:"",availableRam:"",availableRom:"",totalRom:"",time:z}),W=Object(b.a)(S,2),A=W[0],k=W[1],q=Object(h.useState)({mac:"",routerType:0,ip:"",subnetMask:"",gateway:"",dns1:"",dns2:""}),Z=Object(b.a)(q,2),R=Z[0],ee=Z[1],te=function(){var ce=Object(f.a)(c.a.mark(function Q(){var Y,X,x;return c.a.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,y();case 2:return Y=M.sent,M.next=5,l();case 5:return X=M.sent,M.next=8,Object(U.c)();case 8:x=M.sent,Promise.all([Y,X,x]).then(function(G){var F=G[0],w=G[1],H=G[2];F.code==200&&!_.isEmpty(F.data.version)&&C(F.data.version),w.code==200&&!_.isEmpty(w.data.status)&&k(w.data.status),H.code==200&&!_.isEmpty(H.data.net_info)&&ee(H.data.net_info)});case 10:case"end":return M.stop()}},Q)}));return function(){return ce.apply(this,arguments)}}();Object(h.useEffect)(function(){te()},[]);var ae=N.model,ne=N.cpu,re=N.firmwareVersion,se=N.firmwareDate,B=A.totalRam,L=A.availableRam,z=A.time,V=A.totalRom,K=A.availableRom,ie=R.mac,ue=R.routerType,le=R.ip,oe=R.subnetMask,me=R.dns1,de=R.dns2,$=0;L&&B&&(L<B?$=L/B*100:$=100);var J=0;return K<V?J=K/V*100:J=100,t.a.createElement("div",{style:{height:"100%"}},t.a.createElement(D.a,{title:s({id:"systemState.title"}),style:{height:"auto",marginBottom:"14px"}},t.a.createElement("div",{className:u.a.itemcol},t.a.createElement("div",null,t.a.createElement("span",{className:u.a.title},s({id:"systemState.model"})),ae),t.a.createElement("div",null,t.a.createElement("span",{className:u.a.title},s({id:"systemState.cpu"})),ne),t.a.createElement("div",null,t.a.createElement("span",{className:u.a.title},s({id:"header.version"}),":"),re),t.a.createElement("div",null,t.a.createElement("span",{className:u.a.title},s({id:"maintain.update.time"}),":"),se))),t.a.createElement(D.a,{title:s({id:"systemState.netWorkState"}),style:{height:"auto",marginBottom:"14px"}},t.a.createElement("div",{className:u.a.itemcol},t.a.createElement("div",null,t.a.createElement("span",{className:u.a.title},s({id:"config.IpConfig.macAdress"}),":"),ie),t.a.createElement("div",null,t.a.createElement("span",{className:u.a.title},s({id:"systemState.IpStyle"}),":"),ue===0?s({id:"config.IpConfig.staticIp"}):"DHCP"),t.a.createElement("div",null,t.a.createElement("span",{className:u.a.title},s({id:"config.IpConfig.ipAdress"}),":"),le),t.a.createElement("div",null,t.a.createElement("span",{className:u.a.title},s({id:"config.IpConfig.subnetMask"}),":"),oe),t.a.createElement("div",null,t.a.createElement("span",{className:u.a.title},"DNS1:"),Object(m.g)(me,r.a)),t.a.createElement("div",null,t.a.createElement("span",{className:u.a.title},"DNS2:"),Object(m.g)(de,r.a)))),t.a.createElement(D.a,{title:s({id:"systemState.hardwareStatus"}),style:{height:"auto",marginBottom:"14px"}},t.a.createElement("div",{className:u.a.itemcol},t.a.createElement("div",null,t.a.createElement("span",{className:u.a.title},s({id:"systemState.runTime"}),":"),z),t.a.createElement("div",null,t.a.createElement("span",{className:u.a.title},s({id:"systemState.cpuUse"}),":"),t.a.createElement("div",{className:u.a.line},t.a.createElement("i",{className:u.a.progress,style:{width:A.cpu?A.cpu+"%":""}}))),t.a.createElement("div",null,t.a.createElement("span",{className:u.a.title},s({id:"systemState.availableRam"}),":"),t.a.createElement("div",{className:u.a.line},t.a.createElement("i",{className:u.a.progress,style:{width:$+"%"}})),t.a.createElement("span",{className:u.a.rpds},L," kb /",B)),t.a.createElement("div",null,t.a.createElement("span",{className:u.a.title},s({id:"systemState.availableRom"}),":"),t.a.createElement("div",{className:u.a.line},t.a.createElement("i",{className:u.a.progress,style:{width:J+"%"}})),t.a.createElement("span",{className:u.a.rpds},K,"kb /",V)))))},d=o.default=t.a.memo(a)},hy7T:function(T,o,e){"use strict";e.d(o,"e",function(){return h}),e.d(o,"f",function(){return D}),e.d(o,"c",function(){return u}),e.d(o,"d",function(){return U}),e.d(o,"a",function(){return y}),e.d(o,"b",function(){return l});var f=e("9og8"),b=e("WmNS"),i=e.n(b),c=e("t3Un");function h(){return t.apply(this,arguments)}function t(){return t=Object(f.a)(i.a.mark(function r(){var m,a=arguments;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return m=a.length>0&&a[0]!==void 0?a[0]:{},n.abrupt("return",Object(c.a)("miner/user/info",{method:"GET",params:{},body:JSON.stringify(m)},Object({NODE_ENV:"production"}).API));case 2:case"end":return n.stop()}},r)})),t.apply(this,arguments)}function D(){return j.apply(this,arguments)}function j(){return j=Object(f.a)(i.a.mark(function r(){var m,a=arguments;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return m=a.length>0&&a[0]!==void 0?a[0]:{},n.abrupt("return",Object(c.a)("miner/user/update",{method:"POST",params:{},body:JSON.stringify(m)},Object({NODE_ENV:"production"}).API));case 2:case"end":return n.stop()}},r)})),j.apply(this,arguments)}function u(){return E.apply(this,arguments)}function E(){return E=Object(f.a)(i.a.mark(function r(){var m,a=arguments;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return m=a.length>0&&a[0]!==void 0?a[0]:{},n.abrupt("return",Object(c.a)("system/net/info",{method:"GET",params:{},body:JSON.stringify(m)},Object({NODE_ENV:"production"}).API));case 2:case"end":return n.stop()}},r)})),E.apply(this,arguments)}function U(){return P.apply(this,arguments)}function P(){return P=Object(f.a)(i.a.mark(function r(){var m,a=arguments;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return m=a.length>0&&a[0]!==void 0?a[0]:{},n.abrupt("return",Object(c.a)("system/net/update",{method:"POST",params:{},body:JSON.stringify(m)},Object({NODE_ENV:"production"}).API));case 2:case"end":return n.stop()}},r)})),P.apply(this,arguments)}function y(){return p.apply(this,arguments)}function p(){return p=Object(f.a)(i.a.mark(function r(){var m,a=arguments;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return m=a.length>0&&a[0]!==void 0?a[0]:{},n.abrupt("return",Object(c.a)("miner/mode/info",{method:"GET",params:{},body:JSON.stringify(m)},Object({NODE_ENV:"production"}).API));case 2:case"end":return n.stop()}},r)})),p.apply(this,arguments)}function l(){return v.apply(this,arguments)}function v(){return v=Object(f.a)(i.a.mark(function r(){var m,a=arguments;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return m=a.length>0&&a[0]!==void 0?a[0]:{},n.abrupt("return",Object(c.a)("miner/mode/update",{method:"POST",params:{},body:JSON.stringify(m)},Object({NODE_ENV:"production"}).API));case 2:case"end":return n.stop()}},r)})),v.apply(this,arguments)}},t3Un:function(T,o,e){"use strict";e.d(o,"a",function(){return p});var f=e("9og8"),b=e("jrin"),i=e("k1fw"),c=e("WmNS"),h=e.n(c),t=e("Qyje"),D=e.n(t),j=function(v,r){var m=v,a=Object.keys(r);return a.length!=0&&(m+="?"+D.a.stringify(r)),m},u=e("p46w"),E=e.n(u),U=e("9kvl"),P=e("5dcc"),y=e("Hg0r").fetch;function p(l){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",m={method:"GET"},a=Object(i.a)(Object(i.a)({},m),v);a.headers=Object(i.a)(Object(b.a)({Accept:"application/json"},"accept-language",localStorage.getItem("umi_locale")||"zh-CN"),a.headers),E.a.get("token")&&(a.headers.token=E.a.get("token"));var d="";return l=="host"?d=r:d=localStorage.getItem("address")?"http://"+localStorage.getItem("address")+"/":r,l=j(l,v.params),a.method=="GET"&&delete a.body,y(d+l,a).then(function(){var n=Object(f.a)(h.a.mark(function O(s){var I,g,N;return h.a.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return I=s.status,S.next=3,s.json();case 3:if(g=S.sent,!(s.status>=200&&s.status<300)){S.next=7;break}return g.code==680&&(U.e.push("/user/login"),localStorage.getItem("address")&&localStorage.removeItem("address"),E.a.remove("token")),S.abrupt("return",g);case 7:if(!(I>=400||I>=500)){S.next=12;break}throw N=new Error,N.response=s,N.data=g,N;case 12:case"end":return S.stop()}},O)}));return function(O){return n.apply(this,arguments)}}()).catch(function(n){var O=503,s="\u94FE\u63A5\u670D\u52A1\u5668\u8D85\u65F6";throw s})}}}]);
