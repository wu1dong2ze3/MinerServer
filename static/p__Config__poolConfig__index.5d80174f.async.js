(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"5dcc":function(A,o,e){"use strict";e.d(o,"c",function(){return E}),e.d(o,"d",function(){return R}),e.d(o,"g",function(){return v}),e.d(o,"e",function(){return a}),e.d(o,"a",function(){return h}),e.d(o,"b",function(){return r}),e.d(o,"f",function(){return l});var m=e("jrin"),D=e("9og8"),s=e("WmNS"),d=e.n(s),M=e("MZJn"),c=e("fe1z"),I=e("p46w"),p=e.n(I),O=e("9kvl");function E(t){return t===""||t===void 0||t===null}function R(t){return t===0?M.a:t}function v(t,u){return E(t)?u:t}function f(t,u){var n=(t-u)/1e3/3600/24,T=Math.floor(n),y=(n-T)*24,L=Math.floor(y),F=(y-L)*60,j=Math.floor(F),B=(F-j)*60,G=Math.floor(B),V=T+"\u5929"+L+"\u5C0F\u65F6"+j+"\u5206";return V}function a(){return i.apply(this,arguments)}function i(){return i=Object(D.a)(d.a.mark(function t(){var u,n;return d.a.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,Object(c.c)();case 2:u=y.sent,n=u.code,n==200&&(O.e.push("/user/login"),localStorage.getItem("address")&&localStorage.removeItem("address"),p.a.remove("token"));case 5:case"end":return y.stop()}},t)})),i.apply(this,arguments)}function h(t){var u=_.trim(t);return u=u.replace(/[^\d^\.]+/g,"").replace(".","$#$").replace(/\./g,"").replace("$#$","."),u}function r(t){var u=_.trim(t);return u=u.replace(/[^\x00-\xff]/g,""),u}function l(t,u){for(var n in t)u.setFieldsValue(Object(m.a)({},n,t[n]))}},"6Ynu":function(A,o,e){"use strict";var m=e("k1fw"),D=e("q1tI"),s=e.n(D),d=function(c){return s.a.createElement("div",{style:Object(m.a)({height:"100%",background:"#fff",borderRadius:"7px"},c.style)},s.a.createElement("div",{style:{height:"54px",lineHeight:"54px",borderBottom:"1px solid #F5F7FD",fontWeight:"600",paddingLeft:"30px",color:"#333",fontSize:"18px"}},c.title," "),s.a.createElement("div",{style:{padding:"0px 30px",marginTop:"24px",color:"#333"}},c.children))};o.a=d},BdNu:function(A,o,e){A.exports={submitButton:"submitButton___17kn1"}},MZJn:function(A,o,e){"use strict";e.d(o,"a",function(){return m});var m="--"},fe1z:function(A,o,e){"use strict";e.d(o,"a",function(){return M}),e.d(o,"b",function(){return I}),e.d(o,"c",function(){return O});var m=e("9og8"),D=e("WmNS"),s=e.n(D),d=e("t3Un");function M(){return c.apply(this,arguments)}function c(){return c=Object(m.a)(s.a.mark(function f(){var a,i=arguments;return s.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=i.length>0&&i[0]!==void 0?i[0]:{},r.abrupt("return",Object(d.a)("host",{method:"GET",params:{},body:JSON.stringify(a)},Object({NODE_ENV:"production"}).getAPI));case 2:case"end":return r.stop()}},f)})),c.apply(this,arguments)}function I(){return p.apply(this,arguments)}function p(){return p=Object(m.a)(s.a.mark(function f(){var a,i=arguments;return s.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=i.length>0&&i[0]!==void 0?i[0]:{},r.abrupt("return",Object(d.a)("user/login",{method:"POST",params:{},body:JSON.stringify(a)},Object({NODE_ENV:"production"}).API));case 2:case"end":return r.stop()}},f)})),p.apply(this,arguments)}function O(){return E.apply(this,arguments)}function E(){return E=Object(m.a)(s.a.mark(function f(){var a,i=arguments;return s.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=i.length>0&&i[0]!==void 0?i[0]:{},r.abrupt("return",Object(d.a)("user/exit",{method:"GET",params:{},body:JSON.stringify(a)},Object({NODE_ENV:"production"}).API));case 2:case"end":return r.stop()}},f)})),E.apply(this,arguments)}function R(){return v.apply(this,arguments)}function v(){return v=Object(m.a)(s.a.mark(function f(){var a,i=arguments;return s.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=i.length>0&&i[0]!==void 0?i[0]:{},r.abrupt("return",Object(d.a)("miner/summary",{method:"GET",params:{},body:JSON.stringify(a)},Object({NODE_ENV:"production"}).API));case 2:case"end":return r.stop()}},f)})),v.apply(this,arguments)}},hy7T:function(A,o,e){"use strict";e.d(o,"e",function(){return M}),e.d(o,"f",function(){return I}),e.d(o,"c",function(){return O}),e.d(o,"d",function(){return R}),e.d(o,"a",function(){return f}),e.d(o,"b",function(){return i});var m=e("9og8"),D=e("WmNS"),s=e.n(D),d=e("t3Un");function M(){return c.apply(this,arguments)}function c(){return c=Object(m.a)(s.a.mark(function r(){var l,t=arguments;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return l=t.length>0&&t[0]!==void 0?t[0]:{},n.abrupt("return",Object(d.a)("miner/user/info",{method:"GET",params:{},body:JSON.stringify(l)},Object({NODE_ENV:"production"}).API));case 2:case"end":return n.stop()}},r)})),c.apply(this,arguments)}function I(){return p.apply(this,arguments)}function p(){return p=Object(m.a)(s.a.mark(function r(){var l,t=arguments;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return l=t.length>0&&t[0]!==void 0?t[0]:{},n.abrupt("return",Object(d.a)("miner/user/update",{method:"POST",params:{},body:JSON.stringify(l)},Object({NODE_ENV:"production"}).API));case 2:case"end":return n.stop()}},r)})),p.apply(this,arguments)}function O(){return E.apply(this,arguments)}function E(){return E=Object(m.a)(s.a.mark(function r(){var l,t=arguments;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return l=t.length>0&&t[0]!==void 0?t[0]:{},n.abrupt("return",Object(d.a)("system/net/info",{method:"GET",params:{},body:JSON.stringify(l)},Object({NODE_ENV:"production"}).API));case 2:case"end":return n.stop()}},r)})),E.apply(this,arguments)}function R(){return v.apply(this,arguments)}function v(){return v=Object(m.a)(s.a.mark(function r(){var l,t=arguments;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return l=t.length>0&&t[0]!==void 0?t[0]:{},n.abrupt("return",Object(d.a)("system/net/update",{method:"POST",params:{},body:JSON.stringify(l)},Object({NODE_ENV:"production"}).API));case 2:case"end":return n.stop()}},r)})),v.apply(this,arguments)}function f(){return a.apply(this,arguments)}function a(){return a=Object(m.a)(s.a.mark(function r(){var l,t=arguments;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return l=t.length>0&&t[0]!==void 0?t[0]:{},n.abrupt("return",Object(d.a)("miner/mode/info",{method:"GET",params:{},body:JSON.stringify(l)},Object({NODE_ENV:"production"}).API));case 2:case"end":return n.stop()}},r)})),a.apply(this,arguments)}function i(){return h.apply(this,arguments)}function h(){return h=Object(m.a)(s.a.mark(function r(){var l,t=arguments;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return l=t.length>0&&t[0]!==void 0?t[0]:{},n.abrupt("return",Object(d.a)("miner/mode/update",{method:"POST",params:{},body:JSON.stringify(l)},Object({NODE_ENV:"production"}).API));case 2:case"end":return n.stop()}},r)})),h.apply(this,arguments)}},qAKh:function(A,o,e){"use strict";e.r(o);var m=e("5NDa"),D=e("5rEg"),s=e("miYZ"),d=e("tsqr"),M=e("oBTY"),c=e("jrin"),I=e("9og8"),p=e("tJVT"),O=e("y8nQ"),E=e("Vl3Y"),R=e("WmNS"),v=e.n(R),f=e("q1tI"),a=e.n(f),i=e("ww3E"),h=e("TSYQ"),r=e.n(h),l=e("6Ynu"),t=e("9kvl"),u=e("5dcc"),n=e("hy7T"),T=E.a.Item,y=function(F){var j=Object(t.i)(),B=j.formatMessage,G=Object(f.useState)(!1),V=Object(p.a)(G,2),Q=V[0],H=V[1],x=Object(f.useState)([{address:"",name:"",pwd:""},{address:"",name:"",pwd:""},{address:"",name:"",pwd:""}]),Y=Object(p.a)(x,2),N=Y[0],z=Y[1],X=E.a.useForm(),w=Object(p.a)(X,1),Z=w[0],k=function(){var W=Object(I.a)(v.a.mark(function P(){var b,g,U;return v.a.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,Object(n.e)();case 2:b=C.sent,g=b.code,U=b.data,g==200&&!_.isEmpty(U.miners)&&(z(U.miners),U.miners.map(function(K,J){var S;Z.setFieldsValue((S={},Object(c.a)(S,"address_"+J,K.address),Object(c.a)(S,"name_"+J,K.name),Object(c.a)(S,"pwd_"+J,K.pwd),S))}));case 6:case"end":return C.stop()}},P)}));return function(){return W.apply(this,arguments)}}();Object(f.useEffect)(function(){k()},[]);var $=function(P,b,g){var U=Object(M.a)(N);U[g][P]=b,z(U)},q=function(){var W=Object(I.a)(v.a.mark(function P(){var b,g,U;return v.a.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(H(!0),b=N.filter(function(K){return K.address&&K.name}),!_.isEmpty(b)){C.next=4;break}return C.abrupt("return",d.default.error(B({id:"config.poolConfig"})));case 4:return C.next=6,Object(n.f)({miners:N});case 6:g=C.sent,U=g.code,U==200?(H(!1),t.e.push("/userIndex/index")):d.default.error(B({id:"config.poolConfig.adressError"}));case 9:case"end":return C.stop()}},P)}));return function(){return W.apply(this,arguments)}}();return a.a.createElement("div",{style:{height:"100%"}},a.a.createElement(l.a,{title:B({id:"config.poolConfig.title"})},a.a.createElement("div",null,a.a.createElement(E.a,{form:Z},a.a.createElement("div",{style:{display:"flex",marginBottom:"10px",color:"#999999"}},a.a.createElement("div",{style:{width:"37px",marginRight:"12px"}}),a.a.createElement("div",{style:{marginRight:"14px",width:"45%"}},B({id:"config.poolConfig.adress"})),a.a.createElement("div",{style:{marginRight:"14px",width:"30%"}},B({id:"config.poolConfig.name"})),a.a.createElement("div",{style:{flex:1}},B({id:"config.poolConfig.password"}))),N&&N.map(function(W,P){return a.a.createElement("div",{className:r()(["input_height_44"]),style:{display:"flex"},key:P},a.a.createElement("span",{style:{height:"44px",lineHeight:"44px",marginRight:"12px"}},B({id:"config.poolConfig.pool"}),P+1),a.a.createElement("div",{style:{marginRight:"14px",width:"45%"}},a.a.createElement(T,{name:"address_"+P,getValueFromEvent:function(g){return Object(u.b)(g.target.value)}},a.a.createElement(D.a,{autoComplete:"off",placeholder:"\u77FF\u6C60\u5730\u5740",onChange:function(g){$("address",Object(u.b)(g.target.value),P)}}))),a.a.createElement("div",{style:{marginRight:"14px",width:"30%"}},a.a.createElement(T,{name:"name_"+P,initialValue:W.name||void 0,getValueFromEvent:function(g){return Object(u.b)(g.target.value)}},a.a.createElement(D.a,{autoComplete:"off",placeholder:"\u77FF\u5DE5\u540D",onChange:function(g){$("name",Object(u.b)(g.target.value),P)}}))),a.a.createElement("div",{style:{flex:1}},a.a.createElement(T,{name:"pwd_"+P,initialValue:W.pwd||void 0,getValueFromEvent:function(g){var U=_.trim(g.target.value);return U}},a.a.createElement(D.a,{autoComplete:"off",placeholder:"\u5BC6\u7801",type:"password",onChange:function(g){$("pwd",g.target.value,P)}}))))})),a.a.createElement(i.a,{submitButtononClick:function(){return q()},uploading:Q,style:{marginBottom:"48px",width:"160px"},text:B({id:"config.poolConfig.save"})}))))};o.default=y},t3Un:function(A,o,e){"use strict";e.d(o,"a",function(){return v});var m=e("9og8"),D=e("jrin"),s=e("k1fw"),d=e("WmNS"),M=e.n(d),c=e("Qyje"),I=e.n(c),p=function(a,i){var h=a,r=Object.keys(i);return r.length!=0&&(h+="?"+I.a.stringify(i)),h},O=e("p46w"),E=e.n(O),R=e("Hg0r").fetch;function v(f){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",h={method:"GET"},r=Object(s.a)(Object(s.a)({},h),a);r.headers=Object(s.a)(Object(D.a)({Accept:"application/json"},"accept-language",localStorage.getItem("umi_locale")||"zh-CN"),r.headers),E.a.get("token")&&(r.headers.token=E.a.get("token"));var l="";return f=="host"?l=i:l=localStorage.getItem("address")?"http://"+localStorage.getItem("address")+"/":i,f=p(f,a.params),r.method=="GET"&&delete r.body,R(l+f,r).then(function(){var t=Object(m.a)(M.a.mark(function u(n){var T,y,L;return M.a.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return T=n.status,j.next=3,n.json();case 3:if(y=j.sent,!(n.status>=200&&n.status<300)){j.next=6;break}return j.abrupt("return",y);case 6:if(!(T>=400||T>=500)){j.next=11;break}throw L=new Error,L.response=n,L.data=y,L;case 11:case"end":return j.stop()}},u)}));return function(u){return t.apply(this,arguments)}}()).catch(function(t){var u=503,n="\u94FE\u63A5\u670D\u52A1\u5668\u8D85\u65F6";throw n})}},ww3E:function(A,o,e){"use strict";var m=e("+L6B"),D=e("2/Rp"),s=e("q1tI"),d=e.n(s),M=e("BdNu"),c=e.n(M),I=function(O){return d.a.createElement(D.a,{type:"primary",loading:O.uploading?O.uploading:!1,disabled:O.disabled?O.disabled:!1,className:c.a.submitButton,onClick:function(){return O.submitButtononClick()},style:O.style},O.text)};o.a=I}}]);
