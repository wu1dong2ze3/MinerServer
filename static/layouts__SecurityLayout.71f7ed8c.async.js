(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"5dcc":function(A,o,t){"use strict";t.d(o,"c",function(){return O}),t.d(o,"d",function(){return I}),t.d(o,"g",function(){return y}),t.d(o,"e",function(){return i}),t.d(o,"a",function(){return d}),t.d(o,"b",function(){return n}),t.d(o,"f",function(){return f});var m=t("jrin"),M=t("9og8"),l=t("WmNS"),E=t.n(l),P=t("MZJn"),c=t("fe1z"),j=t("p46w"),v=t.n(j),D=t("9kvl");function O(e){return e===""||e===void 0||e===null}function I(e){return e===0?P.a:e}function y(e,r){return O(e)?r:e}function g(e,r){var u=(e-r)/1e3/3600/24,p=Math.floor(u),s=(u-p)*24,U=Math.floor(s),b=(s-U)*60,T=Math.floor(b),L=(b-T)*60,h=Math.floor(L),C=p+"\u5929"+U+"\u5C0F\u65F6"+T+"\u5206";return C}function i(){return a.apply(this,arguments)}function a(){return a=Object(M.a)(E.a.mark(function e(){var r,u;return E.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(c.c)();case 2:r=s.sent,u=r.code,u==200&&(D.e.push("/user/login"),localStorage.getItem("address")&&localStorage.removeItem("address"),v.a.remove("token"));case 5:case"end":return s.stop()}},e)})),a.apply(this,arguments)}function d(e){var r=_.trim(e);return r=r.replace(/[^\d^\.]+/g,"").replace(".","$#$").replace(/\./g,"").replace("$#$","."),r}function n(e){var r=_.trim(e);return r=r.replace(/[^\x00-\xff]/g,""),r}function f(e,r){for(var u in e)r.setFieldsValue(Object(m.a)({},u,e[u]))}},L9NX:function(A,o,t){"use strict";t.r(o);var m=t("fWQN"),M=t("mtLc"),l=t("yKVA"),E=t("879j"),P=t("q1tI"),c=t.n(P),j=t("95SA"),v=t("Ty5D"),D=t("s4NR"),O=t.n(D),I=t("5dcc"),y=t("p46w"),g=t.n(y),i=function(a){Object(l.a)(n,a);var d=Object(E.a)(n);function n(){var f;Object(m.a)(this,n);for(var e=arguments.length,r=new Array(e),u=0;u<e;u++)r[u]=arguments[u];return f=d.call.apply(d,[this].concat(r)),f.state={isReady:!1},f}return Object(M.a)(n,[{key:"componentDidMount",value:function(){this.setState({isReady:!0})}},{key:"render",value:function(){var e=this.state.isReady,r=this.props,u=r.children,p=r.loading,s=g.a.get("token"),U=Object(D.stringify)({redirect:window.location.pathname});return Object(I.c)(s)&&p||!e?c.a.createElement(j.a,null):Object(I.c)(s)&&window.location.pathname!=="/user/login"?c.a.createElement(v.c,{to:"/user/login"}):c.a.createElement("div",{style:{minWidth:"1400px"}},u)}}]),n}(c.a.Component);o.default=i},MZJn:function(A,o,t){"use strict";t.d(o,"a",function(){return m});var m="--"},fe1z:function(A,o,t){"use strict";t.d(o,"a",function(){return P}),t.d(o,"b",function(){return j}),t.d(o,"c",function(){return D});var m=t("9og8"),M=t("WmNS"),l=t.n(M),E=t("t3Un");function P(){return c.apply(this,arguments)}function c(){return c=Object(m.a)(l.a.mark(function g(){var i,a=arguments;return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=a.length>0&&a[0]!==void 0?a[0]:{},n.abrupt("return",Object(E.a)("host",{method:"GET",params:{},body:JSON.stringify(i)},Object({NODE_ENV:"production"}).getAPI));case 2:case"end":return n.stop()}},g)})),c.apply(this,arguments)}function j(){return v.apply(this,arguments)}function v(){return v=Object(m.a)(l.a.mark(function g(){var i,a=arguments;return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=a.length>0&&a[0]!==void 0?a[0]:{},n.abrupt("return",Object(E.a)("user/login",{method:"POST",params:{},body:JSON.stringify(i)},Object({NODE_ENV:"production"}).API));case 2:case"end":return n.stop()}},g)})),v.apply(this,arguments)}function D(){return O.apply(this,arguments)}function O(){return O=Object(m.a)(l.a.mark(function g(){var i,a=arguments;return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=a.length>0&&a[0]!==void 0?a[0]:{},n.abrupt("return",Object(E.a)("user/exit",{method:"GET",params:{},body:JSON.stringify(i)},Object({NODE_ENV:"production"}).API));case 2:case"end":return n.stop()}},g)})),O.apply(this,arguments)}function I(){return y.apply(this,arguments)}function y(){return y=Object(m.a)(l.a.mark(function g(){var i,a=arguments;return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=a.length>0&&a[0]!==void 0?a[0]:{},n.abrupt("return",Object(E.a)("miner/summary",{method:"GET",params:{},body:JSON.stringify(i)},Object({NODE_ENV:"production"}).API));case 2:case"end":return n.stop()}},g)})),y.apply(this,arguments)}},t3Un:function(A,o,t){"use strict";t.d(o,"a",function(){return i});var m=t("9og8"),M=t("jrin"),l=t("k1fw"),E=t("WmNS"),P=t.n(E),c=t("Qyje"),j=t.n(c),v=function(d,n){var f=d,e=Object.keys(n);return e.length!=0&&(f+="?"+j.a.stringify(n)),f},D=t("p46w"),O=t.n(D),I=t("9kvl"),y=t("5dcc"),g=t("Hg0r").fetch;function i(a){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",f={method:"GET"},e=Object(l.a)(Object(l.a)({},f),d);e.headers=Object(l.a)(Object(M.a)({Accept:"application/json"},"accept-language",localStorage.getItem("umi_locale")||"zh-CN"),e.headers),O.a.get("token")&&(e.headers.token=O.a.get("token"));var r="";return a=="host"?r=n:r=localStorage.getItem("address")?"http://"+localStorage.getItem("address")+"/":n,a=v(a,d.params),e.method=="GET"&&delete e.body,g(r+a,e).then(function(){var u=Object(m.a)(P.a.mark(function p(s){var U,b,T;return P.a.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return U=s.status,h.next=3,s.json();case 3:if(b=h.sent,!(s.status>=200&&s.status<300)){h.next=7;break}return b.code==680&&(I.e.push("/user/login"),localStorage.getItem("address")&&localStorage.removeItem("address"),O.a.remove("token")),h.abrupt("return",b);case 7:if(!(U>=400||U>=500)){h.next=12;break}throw T=new Error,T.response=s,T.data=b,T;case 12:case"end":return h.stop()}},p)}));return function(p){return u.apply(this,arguments)}}()).catch(function(u){var p=503,s="\u94FE\u63A5\u670D\u52A1\u5668\u8D85\u65F6";throw s})}}}]);
