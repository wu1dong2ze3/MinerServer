(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"5dcc":function(A,o,e){"use strict";e.d(o,"c",function(){return P}),e.d(o,"d",function(){return L}),e.d(o,"g",function(){return y}),e.d(o,"e",function(){return m}),e.d(o,"a",function(){return r}),e.d(o,"b",function(){return a}),e.d(o,"f",function(){return c});var f=e("jrin"),b=e("9og8"),s=e("WmNS"),d=e.n(s),j=e("MZJn"),E=e("fe1z"),T=e("p46w"),C=e.n(T),O=e("9kvl");function P(t){return t===""||t===void 0||t===null}function L(t){return t===0?j.a:t}function y(t,l){return P(t)?l:t}function v(t,l){var n=(t-l)/1e3/3600/24,D=Math.floor(n),M=(n-D)*24,I=Math.floor(M),K=(M-I)*60,U=Math.floor(K),F=(K-U)*60,$=Math.floor(F),p=D+"\u5929"+I+"\u5C0F\u65F6"+U+"\u5206";return p}function m(){return i.apply(this,arguments)}function i(){return i=Object(b.a)(d.a.mark(function t(){var l,n;return d.a.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,Object(E.c)();case 2:l=M.sent,n=l.code,n==200&&(O.e.push("/user/login"),localStorage.getItem("address")&&localStorage.removeItem("address"),C.a.remove("token"));case 5:case"end":return M.stop()}},t)})),i.apply(this,arguments)}function r(t){var l=_.trim(t);return l=l.replace(/[^\d^\.]+/g,"").replace(".","$#$").replace(/\./g,"").replace("$#$","."),l}function a(t){var l=_.trim(t);return l=l.replace(/[^\x00-\xff]/g,""),l}function c(t,l){for(var n in t)l.setFieldsValue(Object(f.a)({},n,t[n]))}},"6Ynu":function(A,o,e){"use strict";var f=e("k1fw"),b=e("q1tI"),s=e.n(b),d=function(E){return s.a.createElement("div",{style:Object(f.a)({height:"100%",background:"#fff",borderRadius:"7px"},E.style)},s.a.createElement("div",{style:{height:"54px",lineHeight:"54px",borderBottom:"1px solid #F5F7FD",fontWeight:"600",paddingLeft:"30px",color:"#333",fontSize:"18px"}},E.title," "),s.a.createElement("div",{style:{padding:"0px 30px",marginTop:"24px",color:"#333"}},E.children))};o.a=d},BdNu:function(A,o,e){A.exports={submitButton:"submitButton___17kn1"}},MZJn:function(A,o,e){"use strict";e.d(o,"a",function(){return f});var f="--"},fe1z:function(A,o,e){"use strict";e.d(o,"a",function(){return j}),e.d(o,"b",function(){return T}),e.d(o,"c",function(){return O});var f=e("9og8"),b=e("WmNS"),s=e.n(b),d=e("t3Un");function j(){return E.apply(this,arguments)}function E(){return E=Object(f.a)(s.a.mark(function v(){var m,i=arguments;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return m=i.length>0&&i[0]!==void 0?i[0]:{},a.abrupt("return",Object(d.a)("host",{method:"GET",params:{},body:JSON.stringify(m)},Object({NODE_ENV:"production"}).getAPI));case 2:case"end":return a.stop()}},v)})),E.apply(this,arguments)}function T(){return C.apply(this,arguments)}function C(){return C=Object(f.a)(s.a.mark(function v(){var m,i=arguments;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return m=i.length>0&&i[0]!==void 0?i[0]:{},a.abrupt("return",Object(d.a)("user/login",{method:"POST",params:{},body:JSON.stringify(m)},Object({NODE_ENV:"production"}).API));case 2:case"end":return a.stop()}},v)})),C.apply(this,arguments)}function O(){return P.apply(this,arguments)}function P(){return P=Object(f.a)(s.a.mark(function v(){var m,i=arguments;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return m=i.length>0&&i[0]!==void 0?i[0]:{},a.abrupt("return",Object(d.a)("user/exit",{method:"GET",params:{},body:JSON.stringify(m)},Object({NODE_ENV:"production"}).API));case 2:case"end":return a.stop()}},v)})),P.apply(this,arguments)}function L(){return y.apply(this,arguments)}function y(){return y=Object(f.a)(s.a.mark(function v(){var m,i=arguments;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return m=i.length>0&&i[0]!==void 0?i[0]:{},a.abrupt("return",Object(d.a)("miner/summary",{method:"GET",params:{},body:JSON.stringify(m)},Object({NODE_ENV:"production"}).API));case 2:case"end":return a.stop()}},v)})),y.apply(this,arguments)}},hy7T:function(A,o,e){"use strict";e.d(o,"e",function(){return j}),e.d(o,"f",function(){return T}),e.d(o,"c",function(){return O}),e.d(o,"d",function(){return L}),e.d(o,"a",function(){return v}),e.d(o,"b",function(){return i});var f=e("9og8"),b=e("WmNS"),s=e.n(b),d=e("t3Un");function j(){return E.apply(this,arguments)}function E(){return E=Object(f.a)(s.a.mark(function a(){var c,t=arguments;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return c=t.length>0&&t[0]!==void 0?t[0]:{},n.abrupt("return",Object(d.a)("miner/user/info",{method:"GET",params:{},body:JSON.stringify(c)},Object({NODE_ENV:"production"}).API));case 2:case"end":return n.stop()}},a)})),E.apply(this,arguments)}function T(){return C.apply(this,arguments)}function C(){return C=Object(f.a)(s.a.mark(function a(){var c,t=arguments;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return c=t.length>0&&t[0]!==void 0?t[0]:{},n.abrupt("return",Object(d.a)("miner/user/update",{method:"POST",params:{},body:JSON.stringify(c)},Object({NODE_ENV:"production"}).API));case 2:case"end":return n.stop()}},a)})),C.apply(this,arguments)}function O(){return P.apply(this,arguments)}function P(){return P=Object(f.a)(s.a.mark(function a(){var c,t=arguments;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return c=t.length>0&&t[0]!==void 0?t[0]:{},n.abrupt("return",Object(d.a)("system/net/info",{method:"GET",params:{},body:JSON.stringify(c)},Object({NODE_ENV:"production"}).API));case 2:case"end":return n.stop()}},a)})),P.apply(this,arguments)}function L(){return y.apply(this,arguments)}function y(){return y=Object(f.a)(s.a.mark(function a(){var c,t=arguments;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return c=t.length>0&&t[0]!==void 0?t[0]:{},n.abrupt("return",Object(d.a)("system/net/update",{method:"POST",params:{},body:JSON.stringify(c)},Object({NODE_ENV:"production"}).API));case 2:case"end":return n.stop()}},a)})),y.apply(this,arguments)}function v(){return m.apply(this,arguments)}function m(){return m=Object(f.a)(s.a.mark(function a(){var c,t=arguments;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return c=t.length>0&&t[0]!==void 0?t[0]:{},n.abrupt("return",Object(d.a)("miner/mode/info",{method:"GET",params:{},body:JSON.stringify(c)},Object({NODE_ENV:"production"}).API));case 2:case"end":return n.stop()}},a)})),m.apply(this,arguments)}function i(){return r.apply(this,arguments)}function r(){return r=Object(f.a)(s.a.mark(function a(){var c,t=arguments;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return c=t.length>0&&t[0]!==void 0?t[0]:{},n.abrupt("return",Object(d.a)("miner/mode/update",{method:"POST",params:{},body:JSON.stringify(c)},Object({NODE_ENV:"production"}).API));case 2:case"end":return n.stop()}},a)})),r.apply(this,arguments)}},kHRW:function(A,o,e){"use strict";e.r(o);var f=e("OaEy"),b=e("2fM7"),s=e("5NDa"),d=e("5rEg"),j=e("miYZ"),E=e("tsqr"),T=e("9og8"),C=e("jrin"),O=e("k1fw"),P=e("tJVT"),L=e("y8nQ"),y=e("Vl3Y"),v=e("WmNS"),m=e.n(v),i=e("q1tI"),r=e.n(i),a=e("6Ynu"),c=e("TSYQ"),t=e.n(c),l=e("ww3E"),n=e("9kvl"),D=e("5dcc"),M=e("hy7T"),I=y.a.Item,K=function(F){var $=Object(n.i)(),p=$.formatMessage,H=Object(i.useState)({mac:"",routerType:0,ip:"",subnetMask:"",gateway:"",dns1:"",dns2:""}),J=Object(P.a)(H,2),B=J[0],G=J[1],Y=y.a.useForm(),z=Object(P.a)(Y,1),V=z[0],Z=B.mac,Q=B.routerType,X=B.ip,k=B.subnetMask,x=B.gateway,w=B.dns1,q=B.dns2,R=function(u,W){G(Object(O.a)(Object(O.a)({},B),{},Object(C.a)({},u,W)))},ee=function(){var h=Object(T.a)(m.a.mark(function u(){var W,S,N;return m.a.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,Object(M.c)();case 2:W=g.sent,S=W.code,N=W.data,S==200&&!_.isEmpty(N.net_info)&&(G(N.net_info),Object(D.f)(N.net_info,V));case 6:case"end":return g.stop()}},u)}));return function(){return h.apply(this,arguments)}}();Object(i.useEffect)(function(){ee()},[]);var te=function(){var h=Object(T.a)(m.a.mark(function u(){var W,S,N;return m.a.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.prev=0,g.next=3,V.validateFields();case 3:if(W=g.sent,!(_.isEmpty(W.dns1)&&_.isEmpty(W.dns2))){g.next=6;break}return g.abrupt("return",E.default.error(p({id:"config.IpConfig.lastOneDns"})));case 6:return g.next=8,Object(M.d)(B);case 8:S=g.sent,N=S.code,N==200&&Object(D.e)(),g.next=16;break;case 13:g.prev=13,g.t0=g.catch(0),console.log("Failed:",g.t0);case 16:case"end":return g.stop()}},u,null,[[0,13]])}));return function(){return h.apply(this,arguments)}}();return r.a.createElement("div",{style:{height:"100%"},className:t()(["input_height_44","select_height_44"])},r.a.createElement(a.a,{title:p({id:"config.IpConfig.title"})},r.a.createElement(y.a,{form:V},r.a.createElement(I,{label:p({id:"config.IpConfig.macAdress"}),name:"mac",initialValue:Z||void 0,rules:[{required:!0,message:p({id:"config.IpConfig.enterMacAdress"})}],getValueFromEvent:function(u){return Object(D.b)(u.target.value)}},r.a.createElement(d.a,{autoComplete:"off",placeholder:p({id:"config.IpConfig.macAdress"}),onChange:function(u){R("mac",u.target.value)}})),r.a.createElement(I,{label:p({id:"config.IpConfig.getIp"}),name:"routerType",initialValue:Q},r.a.createElement(b.a,{style:{width:"100%",height:"44px"},onChange:function(u){console.log(u),R("routerType",u)}},r.a.createElement(b.a.Option,{value:0},p({id:"config.IpConfig.staticIp"})),r.a.createElement(b.a.Option,{value:1},"DHCP"))),r.a.createElement(I,{label:p({id:"config.IpConfig.ipAdress"}),name:"ip",initialValue:X||void 0,rules:[{required:!0,message:p({id:"config.IpConfig.enterIpAdress"})}],getValueFromEvent:function(u){return Object(D.b)(u.target.value)}},r.a.createElement(d.a,{autoComplete:"off",placeholder:p({id:"config.IpConfig.ipAdress"}),onChange:function(u){R("ip",u.target.value)}})),r.a.createElement(I,{label:p({id:"config.IpConfig.subnetMask"}),name:"subnetMask",initialValue:k||void 0,rules:[{required:!0,message:p({id:"config.IpConfig.enterSubnetMask"})}],getValueFromEvent:function(u){return Object(D.b)(u.target.value)}},r.a.createElement(d.a,{autoComplete:"off",placeholder:p({id:"config.IpConfig.subnetMask"}),onChange:function(u){R("subnetMask",u.target.value)}})),r.a.createElement(I,{label:p({id:"config.IpConfig.subnetMask"}),name:"gateway",initialValue:x||void 0,rules:[{required:!0,message:p({id:"config.IpConfig.enterGateway"})}],getValueFromEvent:function(u){return Object(D.b)(u.target.value)}},r.a.createElement(d.a,{autoComplete:"off",placeholder:p({id:"config.IpConfig.subnetMask"}),onChange:function(u){R("gateway",u.target.value)}})),r.a.createElement(I,{label:"DNS1",name:"dns1",initialValue:w||void 0,getValueFromEvent:function(u){return Object(D.b)(u.target.value)}},r.a.createElement(d.a,{autoComplete:"off",placeholder:"DNS1",onChange:function(u){R("dns1",u.target.value)}})),r.a.createElement(I,{label:"DNS2",name:"dns2",initialValue:q||void 0,getValueFromEvent:function(u){return Object(D.b)(u.target.value)}},r.a.createElement(d.a,{autoComplete:"off",placeholder:"DNS2",onChange:function(u){R("dns2",u.target.value)}})),r.a.createElement(l.a,{submitButtononClick:function(){return te()},style:{marginBottom:"48px",width:"160px"},text:p({id:"config.poolConfig.save"})}))))};o.default=K},t3Un:function(A,o,e){"use strict";e.d(o,"a",function(){return y});var f=e("9og8"),b=e("jrin"),s=e("k1fw"),d=e("WmNS"),j=e.n(d),E=e("Qyje"),T=e.n(E),C=function(m,i){var r=m,a=Object.keys(i);return a.length!=0&&(r+="?"+T.a.stringify(i)),r},O=e("p46w"),P=e.n(O),L=e("Hg0r").fetch;function y(v){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",r={method:"GET"},a=Object(s.a)(Object(s.a)({},r),m);a.headers=Object(s.a)(Object(b.a)({Accept:"application/json"},"accept-language",localStorage.getItem("umi_locale")||"zh-CN"),a.headers),P.a.get("token")&&(a.headers.token=P.a.get("token"));var c="";return v=="host"?c=i:c=localStorage.getItem("address")?"http://"+localStorage.getItem("address")+"/":i,v=C(v,m.params),a.method=="GET"&&delete a.body,L(c+v,a).then(function(){var t=Object(f.a)(j.a.mark(function l(n){var D,M,I;return j.a.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return D=n.status,U.next=3,n.json();case 3:if(M=U.sent,!(n.status>=200&&n.status<300)){U.next=6;break}return U.abrupt("return",M);case 6:if(!(D>=400||D>=500)){U.next=11;break}throw I=new Error,I.response=n,I.data=M,I;case 11:case"end":return U.stop()}},l)}));return function(l){return t.apply(this,arguments)}}()).catch(function(t){var l=503,n="\u94FE\u63A5\u670D\u52A1\u5668\u8D85\u65F6";throw n})}},ww3E:function(A,o,e){"use strict";var f=e("+L6B"),b=e("2/Rp"),s=e("q1tI"),d=e.n(s),j=e("BdNu"),E=e.n(j),T=function(O){return d.a.createElement(b.a,{type:"primary",loading:O.uploading?O.uploading:!1,disabled:O.disabled?O.disabled:!1,className:E.a.submitButton,onClick:function(){return O.submitButtononClick()},style:O.style},O.text)};o.a=T}}]);
