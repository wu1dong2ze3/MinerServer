(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"5dcc":function(M,o,e){"use strict";e.d(o,"c",function(){return y}),e.d(o,"d",function(){return T}),e.d(o,"g",function(){return j}),e.d(o,"e",function(){return d}),e.d(o,"a",function(){return v}),e.d(o,"b",function(){return r}),e.d(o,"f",function(){return c});var p=e("jrin"),P=e("9og8"),i=e("WmNS"),f=e.n(i),O=e("MZJn"),t=e("fe1z"),D=e("p46w"),N=e.n(D),u=e("9kvl");function y(n){return n===""||n===void 0||n===null}function T(n){return n===0?O.a:n}function j(n,m){return y(n)?m:n}function g(n,m){var a=(n-m)/1e3/3600/24,b=Math.floor(a),s=(a-b)*24,S=Math.floor(s),E=(s-S)*60,h=Math.floor(E),B=(E-h)*60,H=Math.floor(B),R=b+"\u5929"+S+"\u5C0F\u65F6"+h+"\u5206";return R}function d(){return l.apply(this,arguments)}function l(){return l=Object(P.a)(f.a.mark(function n(){var m,a;return f.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(t.c)();case 2:m=s.sent,a=m.code,a==200&&(u.e.push("/user/login"),localStorage.getItem("address")&&localStorage.removeItem("address"),N.a.remove("token"));case 5:case"end":return s.stop()}},n)})),l.apply(this,arguments)}function v(n){var m=_.trim(n);return m=m.replace(/[^\d^\.]+/g,"").replace(".","$#$").replace(/\./g,"").replace("$#$","."),m}function r(n){var m=_.trim(n);return m=m.replace(/[^\x00-\xff]/g,""),m}function c(n,m){for(var a in n)m.setFieldsValue(Object(p.a)({},a,n[a]))}},"6Ynu":function(M,o,e){"use strict";var p=e("k1fw"),P=e("q1tI"),i=e.n(P),f=function(t){return i.a.createElement("div",{style:Object(p.a)({height:"100%",background:"#fff",borderRadius:"7px"},t.style)},i.a.createElement("div",{style:{height:"54px",lineHeight:"54px",borderBottom:"1px solid #F5F7FD",fontWeight:"600",paddingLeft:"30px",color:"#333",fontSize:"18px"}},t.title," "),i.a.createElement("div",{style:{padding:"0px 30px",marginTop:"24px",color:"#333"}},t.children))};o.a=f},MZJn:function(M,o,e){"use strict";e.d(o,"a",function(){return p});var p="--"},f7Z1:function(M,o,e){M.exports={itemcol:"itemcol___1J_wh",title:"title___2Szav",line:"line___21GXQ",progress:"progress___ZsQHr",rpds:"rpds___1cm0v"}},fe1z:function(M,o,e){"use strict";e.d(o,"a",function(){return O}),e.d(o,"b",function(){return D}),e.d(o,"c",function(){return u});var p=e("9og8"),P=e("WmNS"),i=e.n(P),f=e("t3Un");function O(){return t.apply(this,arguments)}function t(){return t=Object(p.a)(i.a.mark(function g(){var d,l=arguments;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return d=l.length>0&&l[0]!==void 0?l[0]:{},r.abrupt("return",Object(f.a)("host",{method:"GET",params:{},body:JSON.stringify(d)},Object({NODE_ENV:"production"}).getAPI));case 2:case"end":return r.stop()}},g)})),t.apply(this,arguments)}function D(){return N.apply(this,arguments)}function N(){return N=Object(p.a)(i.a.mark(function g(){var d,l=arguments;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return d=l.length>0&&l[0]!==void 0?l[0]:{},r.abrupt("return",Object(f.a)("user/login",{method:"POST",params:{},body:JSON.stringify(d)},Object({NODE_ENV:"production"}).API));case 2:case"end":return r.stop()}},g)})),N.apply(this,arguments)}function u(){return y.apply(this,arguments)}function y(){return y=Object(p.a)(i.a.mark(function g(){var d,l=arguments;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return d=l.length>0&&l[0]!==void 0?l[0]:{},r.abrupt("return",Object(f.a)("user/exit",{method:"GET",params:{},body:JSON.stringify(d)},Object({NODE_ENV:"production"}).API));case 2:case"end":return r.stop()}},g)})),y.apply(this,arguments)}function T(){return j.apply(this,arguments)}function j(){return j=Object(p.a)(i.a.mark(function g(){var d,l=arguments;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return d=l.length>0&&l[0]!==void 0?l[0]:{},r.abrupt("return",Object(f.a)("miner/summary",{method:"GET",params:{},body:JSON.stringify(d)},Object({NODE_ENV:"production"}).API));case 2:case"end":return r.stop()}},g)})),j.apply(this,arguments)}},hGqE:function(M,o,e){"use strict";e.r(o);var p=e("9og8"),P=e("tJVT"),i=e("WmNS"),f=e.n(i),O=e("q1tI"),t=e.n(O),D=e("6Ynu"),N=e("f7Z1"),u=e.n(N),y=e("9kvl"),T=e("hy7T"),j=e("t3Un");function g(){return d.apply(this,arguments)}function d(){return d=Object(p.a)(f.a.mark(function a(){var b,s=arguments;return f.a.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return b=s.length>0&&s[0]!==void 0?s[0]:{},E.abrupt("return",Object(j.a)("system/hardware/version",{method:"GET",params:{},body:JSON.stringify(b)},Object({NODE_ENV:"production"}).API));case 2:case"end":return E.stop()}},a)})),d.apply(this,arguments)}function l(){return v.apply(this,arguments)}function v(){return v=Object(p.a)(f.a.mark(function a(){var b,s=arguments;return f.a.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return b=s.length>0&&s[0]!==void 0?s[0]:{},E.abrupt("return",Object(j.a)("system/hardware/status",{method:"GET",params:{},body:JSON.stringify(b)},Object({NODE_ENV:"production"}).API));case 2:case"end":return E.stop()}},a)})),v.apply(this,arguments)}var r=e("MZJn"),c=e("5dcc"),n=function(){var b=Object(y.i)(),s=b.formatMessage,S=Object(O.useState)({model:"--",cpu:"--",firmwareVersion:"--",firmwareDate:""}),E=Object(P.a)(S,2),h=E[0],B=E[1],H=Object(O.useState)({cpu:"",totalRam:"",availableRam:"",availableRom:"",totalRom:"",time:z}),R=Object(P.a)(H,2),U=R[0],x=R[1],q=Object(O.useState)({mac:"",routerType:0,ip:"",subnetMask:"",gateway:"",dns1:"",dns2:""}),Z=Object(P.a)(q,2),A=Z[0],ee=Z[1],te=function(){var ce=Object(p.a)(f.a.mark(function Q(){var Y,X,k;return f.a.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,g();case 2:return Y=I.sent,I.next=5,l();case 5:return X=I.sent,I.next=8,Object(T.c)();case 8:k=I.sent,Promise.all([Y,X,k]).then(function(J){var G=J[0],w=J[1],F=J[2];G.code==200&&!_.isEmpty(G.data.version)&&B(G.data.version),w.code==200&&!_.isEmpty(w.data.status)&&x(w.data.status),F.code==200&&!_.isEmpty(F.data.net_info)&&ee(F.data.net_info)});case 10:case"end":return I.stop()}},Q)}));return function(){return ce.apply(this,arguments)}}();Object(O.useEffect)(function(){te()},[]);var ae=h.model,ne=h.cpu,re=h.firmwareVersion,se=h.firmwareDate,C=U.totalRam,W=U.availableRam,z=U.time,L=U.totalRom,V=U.availableRom,ie=A.mac,ue=A.routerType,le=A.ip,oe=A.subnetMask,me=A.dns1,de=A.dns2,K=0;W&&C&&(W<C?K=W/C*100:K=100);var $=0;return V<L?$=V/L*100:$=100,t.a.createElement("div",{style:{height:"100%"}},t.a.createElement(D.a,{title:s({id:"systemState.title"}),style:{height:"auto",marginBottom:"14px"}},t.a.createElement("div",{className:u.a.itemcol},t.a.createElement("div",null,t.a.createElement("span",{className:u.a.title},s({id:"systemState.model"})),ae),t.a.createElement("div",null,t.a.createElement("span",{className:u.a.title},s({id:"systemState.cpu"})),ne),t.a.createElement("div",null,t.a.createElement("span",{className:u.a.title},s({id:"header.version"}),":"),re),t.a.createElement("div",null,t.a.createElement("span",{className:u.a.title},s({id:"maintain.update.time"}),":"),se))),t.a.createElement(D.a,{title:s({id:"systemState.netWorkState"}),style:{height:"auto",marginBottom:"14px"}},t.a.createElement("div",{className:u.a.itemcol},t.a.createElement("div",null,t.a.createElement("span",{className:u.a.title},s({id:"config.IpConfig.macAdress"}),":"),ie),t.a.createElement("div",null,t.a.createElement("span",{className:u.a.title},s({id:"systemState.IpStyle"}),":"),ue===0?s({id:"config.IpConfig.staticIp"}):"DHCP"),t.a.createElement("div",null,t.a.createElement("span",{className:u.a.title},s({id:"config.IpConfig.ipAdress"}),":"),le),t.a.createElement("div",null,t.a.createElement("span",{className:u.a.title},s({id:"config.IpConfig.subnetMask"}),":"),oe),t.a.createElement("div",null,t.a.createElement("span",{className:u.a.title},"DNS1:"),Object(c.g)(me,r.a)),t.a.createElement("div",null,t.a.createElement("span",{className:u.a.title},"DNS2:"),Object(c.g)(de,r.a)))),t.a.createElement(D.a,{title:s({id:"systemState.hardwareStatus"}),style:{height:"auto",marginBottom:"14px"}},t.a.createElement("div",{className:u.a.itemcol},t.a.createElement("div",null,t.a.createElement("span",{className:u.a.title},s({id:"systemState.runTime"}),":"),z),t.a.createElement("div",null,t.a.createElement("span",{className:u.a.title},s({id:"systemState.cpuUse"}),":"),t.a.createElement("div",{className:u.a.line},t.a.createElement("i",{className:u.a.progress,style:{width:U.cpu?U.cpu+"%":""}}))),t.a.createElement("div",null,t.a.createElement("span",{className:u.a.title},s({id:"systemState.availableRam"}),":"),t.a.createElement("div",{className:u.a.line},t.a.createElement("i",{className:u.a.progress,style:{width:K+"%"}})),t.a.createElement("span",{className:u.a.rpds},W," kb /",C)),t.a.createElement("div",null,t.a.createElement("span",{className:u.a.title},s({id:"systemState.availableRom"}),":"),t.a.createElement("div",{className:u.a.line},t.a.createElement("i",{className:u.a.progress,style:{width:$+"%"}})),t.a.createElement("span",{className:u.a.rpds},V,"kb /",L)))))},m=o.default=t.a.memo(n)},hy7T:function(M,o,e){"use strict";e.d(o,"e",function(){return O}),e.d(o,"f",function(){return D}),e.d(o,"c",function(){return u}),e.d(o,"d",function(){return T}),e.d(o,"a",function(){return g}),e.d(o,"b",function(){return l});var p=e("9og8"),P=e("WmNS"),i=e.n(P),f=e("t3Un");function O(){return t.apply(this,arguments)}function t(){return t=Object(p.a)(i.a.mark(function r(){var c,n=arguments;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=n.length>0&&n[0]!==void 0?n[0]:{},a.abrupt("return",Object(f.a)("miner/user/info",{method:"GET",params:{},body:JSON.stringify(c)},Object({NODE_ENV:"production"}).API));case 2:case"end":return a.stop()}},r)})),t.apply(this,arguments)}function D(){return N.apply(this,arguments)}function N(){return N=Object(p.a)(i.a.mark(function r(){var c,n=arguments;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=n.length>0&&n[0]!==void 0?n[0]:{},a.abrupt("return",Object(f.a)("miner/user/update",{method:"POST",params:{},body:JSON.stringify(c)},Object({NODE_ENV:"production"}).API));case 2:case"end":return a.stop()}},r)})),N.apply(this,arguments)}function u(){return y.apply(this,arguments)}function y(){return y=Object(p.a)(i.a.mark(function r(){var c,n=arguments;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=n.length>0&&n[0]!==void 0?n[0]:{},a.abrupt("return",Object(f.a)("system/net/info",{method:"GET",params:{},body:JSON.stringify(c)},Object({NODE_ENV:"production"}).API));case 2:case"end":return a.stop()}},r)})),y.apply(this,arguments)}function T(){return j.apply(this,arguments)}function j(){return j=Object(p.a)(i.a.mark(function r(){var c,n=arguments;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=n.length>0&&n[0]!==void 0?n[0]:{},a.abrupt("return",Object(f.a)("system/net/update",{method:"POST",params:{},body:JSON.stringify(c)},Object({NODE_ENV:"production"}).API));case 2:case"end":return a.stop()}},r)})),j.apply(this,arguments)}function g(){return d.apply(this,arguments)}function d(){return d=Object(p.a)(i.a.mark(function r(){var c,n=arguments;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=n.length>0&&n[0]!==void 0?n[0]:{},a.abrupt("return",Object(f.a)("miner/mode/info",{method:"GET",params:{},body:JSON.stringify(c)},Object({NODE_ENV:"production"}).API));case 2:case"end":return a.stop()}},r)})),d.apply(this,arguments)}function l(){return v.apply(this,arguments)}function v(){return v=Object(p.a)(i.a.mark(function r(){var c,n=arguments;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c=n.length>0&&n[0]!==void 0?n[0]:{},a.abrupt("return",Object(f.a)("miner/mode/update",{method:"POST",params:{},body:JSON.stringify(c)},Object({NODE_ENV:"production"}).API));case 2:case"end":return a.stop()}},r)})),v.apply(this,arguments)}},t3Un:function(M,o,e){"use strict";e.d(o,"a",function(){return j});var p=e("9og8"),P=e("jrin"),i=e("k1fw"),f=e("WmNS"),O=e.n(f),t=e("Qyje"),D=e.n(t),N=function(d,l){var v=d,r=Object.keys(l);return r.length!=0&&(v+="?"+D.a.stringify(l)),v},u=e("p46w"),y=e.n(u),T=e("Hg0r").fetch;function j(g){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",v={method:"GET"},r=Object(i.a)(Object(i.a)({},v),d);r.headers=Object(i.a)(Object(P.a)({Accept:"application/json"},"accept-language",localStorage.getItem("umi_locale")||"zh-CN"),r.headers),y.a.get("token")&&(r.headers.token=y.a.get("token"));var c="";return g=="host"?c=l:c=localStorage.getItem("address")?"http://"+localStorage.getItem("address")+"/":l,g=N(g,d.params),r.method=="GET"&&delete r.body,T(c+g,r).then(function(){var n=Object(p.a)(O.a.mark(function m(a){var b,s,S;return O.a.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return b=a.status,h.next=3,a.json();case 3:if(s=h.sent,!(a.status>=200&&a.status<300)){h.next=6;break}return h.abrupt("return",s);case 6:if(!(b>=400||b>=500)){h.next=11;break}throw S=new Error,S.response=a,S.data=s,S;case 11:case"end":return h.stop()}},m)}));return function(m){return n.apply(this,arguments)}}()).catch(function(n){var m=503,a="\u94FE\u63A5\u670D\u52A1\u5668\u8D85\u65F6";throw a})}}}]);
