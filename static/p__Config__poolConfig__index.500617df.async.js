(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"5dcc":function(A,o,e){"use strict";e.d(o,"c",function(){return f}),e.d(o,"d",function(){return L}),e.d(o,"g",function(){return y}),e.d(o,"e",function(){return a}),e.d(o,"a",function(){return h}),e.d(o,"b",function(){return r}),e.d(o,"f",function(){return l});var m=e("jrin"),D=e("9og8"),s=e("WmNS"),d=e.n(s),b=e("MZJn"),c=e("fe1z"),I=e("p46w"),O=e.n(I),v=e("9kvl");function f(t){return t===""||t===void 0||t===null}function L(t){return t===0?b.a:t}function y(t,u){return f(t)?u:t}function p(t,u){var n=(t-u)/1e3/3600/24,U=Math.floor(n),E=(n-U)*24,N=Math.floor(E),W=(E-N)*60,R=Math.floor(W),T=(W-R)*60,B=Math.floor(T),$=U+"\u5929"+N+"\u5C0F\u65F6"+R+"\u5206";return $}function a(){return i.apply(this,arguments)}function i(){return i=Object(D.a)(d.a.mark(function t(){var u,n;return d.a.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,Object(c.c)();case 2:u=E.sent,n=u.code,n==200&&(v.e.push("/user/login"),localStorage.getItem("address")&&localStorage.removeItem("address"),O.a.remove("token"));case 5:case"end":return E.stop()}},t)})),i.apply(this,arguments)}function h(t){var u=_.trim(t);return u=u.replace(/[^\d^\.]+/g,"").replace(".","$#$").replace(/\./g,"").replace("$#$","."),u}function r(t){var u=_.trim(t);return u=u.replace(/[^\x00-\xff]/g,""),u}function l(t,u){for(var n in t)u.setFieldsValue(Object(m.a)({},n,t[n]))}},"6Ynu":function(A,o,e){"use strict";var m=e("k1fw"),D=e("q1tI"),s=e.n(D),d=function(c){return s.a.createElement("div",{style:Object(m.a)({height:"100%",background:"#fff",borderRadius:"7px"},c.style)},s.a.createElement("div",{style:{height:"54px",lineHeight:"54px",borderBottom:"1px solid #F5F7FD",fontWeight:"600",paddingLeft:"30px",color:"#333",fontSize:"18px"}},c.title," "),s.a.createElement("div",{style:{padding:"0px 30px",marginTop:"24px",color:"#333"}},c.children))};o.a=d},BdNu:function(A,o,e){A.exports={submitButton:"submitButton___17kn1"}},MZJn:function(A,o,e){"use strict";e.d(o,"a",function(){return m});var m="--"},fe1z:function(A,o,e){"use strict";e.d(o,"a",function(){return b}),e.d(o,"b",function(){return I}),e.d(o,"c",function(){return v});var m=e("9og8"),D=e("WmNS"),s=e.n(D),d=e("t3Un");function b(){return c.apply(this,arguments)}function c(){return c=Object(m.a)(s.a.mark(function p(){var a,i=arguments;return s.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=i.length>0&&i[0]!==void 0?i[0]:{},r.abrupt("return",Object(d.a)("host",{method:"GET",params:{},body:JSON.stringify(a)},Object({NODE_ENV:"production"}).getAPI));case 2:case"end":return r.stop()}},p)})),c.apply(this,arguments)}function I(){return O.apply(this,arguments)}function O(){return O=Object(m.a)(s.a.mark(function p(){var a,i=arguments;return s.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=i.length>0&&i[0]!==void 0?i[0]:{},r.abrupt("return",Object(d.a)("user/login",{method:"POST",params:{},body:JSON.stringify(a)},Object({NODE_ENV:"production"}).API));case 2:case"end":return r.stop()}},p)})),O.apply(this,arguments)}function v(){return f.apply(this,arguments)}function f(){return f=Object(m.a)(s.a.mark(function p(){var a,i=arguments;return s.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=i.length>0&&i[0]!==void 0?i[0]:{},r.abrupt("return",Object(d.a)("user/exit",{method:"GET",params:{},body:JSON.stringify(a)},Object({NODE_ENV:"production"}).API));case 2:case"end":return r.stop()}},p)})),f.apply(this,arguments)}function L(){return y.apply(this,arguments)}function y(){return y=Object(m.a)(s.a.mark(function p(){var a,i=arguments;return s.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=i.length>0&&i[0]!==void 0?i[0]:{},r.abrupt("return",Object(d.a)("miner/summary",{method:"GET",params:{},body:JSON.stringify(a)},Object({NODE_ENV:"production"}).API));case 2:case"end":return r.stop()}},p)})),y.apply(this,arguments)}},hy7T:function(A,o,e){"use strict";e.d(o,"e",function(){return b}),e.d(o,"f",function(){return I}),e.d(o,"c",function(){return v}),e.d(o,"d",function(){return L}),e.d(o,"a",function(){return p}),e.d(o,"b",function(){return i});var m=e("9og8"),D=e("WmNS"),s=e.n(D),d=e("t3Un");function b(){return c.apply(this,arguments)}function c(){return c=Object(m.a)(s.a.mark(function r(){var l,t=arguments;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return l=t.length>0&&t[0]!==void 0?t[0]:{},n.abrupt("return",Object(d.a)("miner/user/info",{method:"GET",params:{},body:JSON.stringify(l)},Object({NODE_ENV:"production"}).API));case 2:case"end":return n.stop()}},r)})),c.apply(this,arguments)}function I(){return O.apply(this,arguments)}function O(){return O=Object(m.a)(s.a.mark(function r(){var l,t=arguments;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return l=t.length>0&&t[0]!==void 0?t[0]:{},n.abrupt("return",Object(d.a)("miner/user/update",{method:"POST",params:{},body:JSON.stringify(l)},Object({NODE_ENV:"production"}).API));case 2:case"end":return n.stop()}},r)})),O.apply(this,arguments)}function v(){return f.apply(this,arguments)}function f(){return f=Object(m.a)(s.a.mark(function r(){var l,t=arguments;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return l=t.length>0&&t[0]!==void 0?t[0]:{},n.abrupt("return",Object(d.a)("system/net/info",{method:"GET",params:{},body:JSON.stringify(l)},Object({NODE_ENV:"production"}).API));case 2:case"end":return n.stop()}},r)})),f.apply(this,arguments)}function L(){return y.apply(this,arguments)}function y(){return y=Object(m.a)(s.a.mark(function r(){var l,t=arguments;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return l=t.length>0&&t[0]!==void 0?t[0]:{},n.abrupt("return",Object(d.a)("system/net/update",{method:"POST",params:{},body:JSON.stringify(l)},Object({NODE_ENV:"production"}).API));case 2:case"end":return n.stop()}},r)})),y.apply(this,arguments)}function p(){return a.apply(this,arguments)}function a(){return a=Object(m.a)(s.a.mark(function r(){var l,t=arguments;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return l=t.length>0&&t[0]!==void 0?t[0]:{},n.abrupt("return",Object(d.a)("miner/mode/info",{method:"GET",params:{},body:JSON.stringify(l)},Object({NODE_ENV:"production"}).API));case 2:case"end":return n.stop()}},r)})),a.apply(this,arguments)}function i(){return h.apply(this,arguments)}function h(){return h=Object(m.a)(s.a.mark(function r(){var l,t=arguments;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return l=t.length>0&&t[0]!==void 0?t[0]:{},n.abrupt("return",Object(d.a)("miner/mode/update",{method:"POST",params:{},body:JSON.stringify(l)},Object({NODE_ENV:"production"}).API));case 2:case"end":return n.stop()}},r)})),h.apply(this,arguments)}},qAKh:function(A,o,e){"use strict";e.r(o);var m=e("5NDa"),D=e("5rEg"),s=e("miYZ"),d=e("tsqr"),b=e("oBTY"),c=e("jrin"),I=e("9og8"),O=e("tJVT"),v=e("y8nQ"),f=e("Vl3Y"),L=e("WmNS"),y=e.n(L),p=e("q1tI"),a=e.n(p),i=e("ww3E"),h=e("TSYQ"),r=e.n(h),l=e("6Ynu"),t=e("9kvl"),u=e("5dcc"),n=e("hy7T"),U=f.a.Item,E=function(W){var R=Object(t.i)(),T=R.formatMessage,B=Object(p.useState)(!1),$=Object(O.a)(B,2),Z=$[0],H=$[1],Q=Object(p.useState)([{address:"",name:"",pwd:""},{address:"",name:"",pwd:""},{address:"",name:"",pwd:""}]),Y=Object(O.a)(Q,2),F=Y[0],x=Y[1],X=f.a.useForm(),w=Object(O.a)(X,1),z=w[0],k=function(){var K=Object(I.a)(y.a.mark(function P(){var M,g,C;return y.a.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,Object(n.e)();case 2:M=j.sent,g=M.code,C=M.data,g==200&&!_.isEmpty(C.miners)&&(x(C.miners),C.miners.map(function(S,G){var V;z.setFieldsValue((V={},Object(c.a)(V,"address_"+G,S.address),Object(c.a)(V,"name_"+G,S.name),Object(c.a)(V,"pwd_"+G,S.pwd),V))}));case 6:case"end":return j.stop()}},P)}));return function(){return K.apply(this,arguments)}}();Object(p.useEffect)(function(){k()},[]);var J=function(P,M,g){var C=Object(b.a)(F);C[g][P]=M,x(C)},q=function(){var K=Object(I.a)(y.a.mark(function P(){var M,g,C;return y.a.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(H(!0),M=F.filter(function(S){return S.address&&S.name}),!_.isEmpty(M)){j.next=4;break}return j.abrupt("return",d.default.error(T({id:"config.poolConfig"})));case 4:return j.next=6,Object(n.f)({miners:F});case 6:g=j.sent,C=g.code,C==200?(H(!1),t.e.push("/userIndex/index")):d.default.error(T({id:"config.poolConfig.adressError"}));case 9:case"end":return j.stop()}},P)}));return function(){return K.apply(this,arguments)}}();return a.a.createElement("div",{style:{height:"100%"}},a.a.createElement(l.a,{title:T({id:"config.poolConfig.title"})},a.a.createElement("div",{style:{maxWidth:"1000px"}},a.a.createElement(f.a,{form:z},a.a.createElement("div",{style:{display:"flex",marginBottom:"10px",color:"#999999"}},a.a.createElement("div",{style:{width:"37px",marginRight:"12px"}}),a.a.createElement("div",{style:{marginRight:"14px",width:"45%"}},T({id:"config.poolConfig.adress"})),a.a.createElement("div",{style:{marginRight:"14px",width:"30%"}},T({id:"config.poolConfig.name"})),a.a.createElement("div",{style:{flex:1}},T({id:"config.poolConfig.password"}))),F&&F.map(function(K,P){return a.a.createElement("div",{className:r()(["input_height_44"]),style:{display:"flex"},key:P},a.a.createElement("span",{style:{height:"44px",lineHeight:"44px",marginRight:"12px"}},T({id:"config.poolConfig.pool"}),P+1),a.a.createElement("div",{style:{marginRight:"14px",width:"45%"}},a.a.createElement(U,{name:"address_"+P,getValueFromEvent:function(g){return Object(u.b)(g.target.value)}},a.a.createElement(D.a,{autoComplete:"off",placeholder:"\u77FF\u6C60\u5730\u5740",onChange:function(g){J("address",Object(u.b)(g.target.value),P)}}))),a.a.createElement("div",{style:{marginRight:"14px",width:"30%"}},a.a.createElement(U,{name:"name_"+P,initialValue:K.name||void 0,getValueFromEvent:function(g){return Object(u.b)(g.target.value)}},a.a.createElement(D.a,{autoComplete:"off",placeholder:"\u77FF\u5DE5\u540D",onChange:function(g){J("name",Object(u.b)(g.target.value),P)}}))),a.a.createElement("div",{style:{flex:1}},a.a.createElement(U,{name:"pwd_"+P,initialValue:K.pwd||void 0,getValueFromEvent:function(g){var C=_.trim(g.target.value);return C}},a.a.createElement(D.a,{autoComplete:"off",placeholder:"\u5BC6\u7801",type:"password",onChange:function(g){J("pwd",g.target.value,P)}}))))})),a.a.createElement(i.a,{submitButtononClick:function(){return q()},uploading:Z,style:{marginBottom:"48px",width:"160px"},text:T({id:"config.poolConfig.save"})}))))};o.default=E},t3Un:function(A,o,e){"use strict";e.d(o,"a",function(){return a});var m=e("9og8"),D=e("jrin"),s=e("k1fw"),d=e("WmNS"),b=e.n(d),c=e("Qyje"),I=e.n(c),O=function(h,r){var l=h,t=Object.keys(r);return t.length!=0&&(l+="?"+I.a.stringify(r)),l},v=e("p46w"),f=e.n(v),L=e("9kvl"),y=e("5dcc"),p=e("Hg0r").fetch;function a(i){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",l={method:"GET"},t=Object(s.a)(Object(s.a)({},l),h);t.headers=Object(s.a)(Object(D.a)({Accept:"application/json"},"accept-language",localStorage.getItem("umi_locale")||"zh-CN"),t.headers),f.a.get("token")&&(t.headers.token=f.a.get("token"));var u="";return i=="host"?u=r:u=localStorage.getItem("address")?"http://"+localStorage.getItem("address")+"/":r,i=O(i,h.params),t.method=="GET"&&delete t.body,p(u+i,t).then(function(){var n=Object(m.a)(b.a.mark(function U(E){var N,W,R;return b.a.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return N=E.status,B.next=3,E.json();case 3:if(W=B.sent,!(E.status>=200&&E.status<300)){B.next=7;break}return W.code==680&&(L.e.push("/user/login"),localStorage.getItem("address")&&localStorage.removeItem("address"),f.a.remove("token")),B.abrupt("return",W);case 7:if(!(N>=400||N>=500)){B.next=12;break}throw R=new Error,R.response=E,R.data=W,R;case 12:case"end":return B.stop()}},U)}));return function(U){return n.apply(this,arguments)}}()).catch(function(n){var U=503,E="\u94FE\u63A5\u670D\u52A1\u5668\u8D85\u65F6";throw E})}},ww3E:function(A,o,e){"use strict";var m=e("+L6B"),D=e("2/Rp"),s=e("q1tI"),d=e.n(s),b=e("BdNu"),c=e.n(b),I=function(v){return d.a.createElement(D.a,{type:"primary",loading:v.uploading?v.uploading:!1,disabled:v.disabled?v.disabled:!1,className:c.a.submitButton,onClick:function(){return v.submitButtononClick()},style:v.style},v.text)};o.a=I}}]);
