(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"5dcc":function(Y,d,e){"use strict";e.d(d,"c",function(){return s}),e.d(d,"d",function(){return O}),e.d(d,"g",function(){return o}),e.d(d,"e",function(){return h}),e.d(d,"a",function(){return c}),e.d(d,"b",function(){return i}),e.d(d,"f",function(){return y});var p=e("jrin"),D=e("9og8"),u=e("WmNS"),f=e.n(u),S=e("MZJn"),P=e("fe1z"),T=e("p46w"),g=e.n(T),r=e("9kvl"),j=e("LvDl"),A=e.n(j);function s(t){return t===""||t===void 0||t===null}function O(t){return t===0?S.a:t}function o(t,m){return s(t)?m:t}function l(t,m){var I=(t-m)/1e3/3600/24,$=Math.floor(I),v=(I-$)*24,V=Math.floor(v),k=(v-V)*60,q=Math.floor(k),ee=(k-q)*60,F=Math.floor(ee),re=$+"\u5929"+V+"\u5C0F\u65F6"+q+"\u5206";return re}function h(){return a.apply(this,arguments)}function a(){return a=Object(D.a)(f.a.mark(function t(){var m,I;return f.a.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,Object(P.c)();case 2:m=v.sent,I=m.code,I==200&&(r.d.push("/user/login"),g.a.remove("token"));case 5:case"end":return v.stop()}},t)})),a.apply(this,arguments)}function c(t){var m=A.a.trim(t);return m=m.replace(/[^\d^\.]+/g,"").replace(".","$#$").replace(/\./g,"").replace("$#$","."),m}function i(t){var m=A.a.trim(t);return m=m.replace(/[^\x00-\xff]/g,""),m}function y(t,m){for(var I in t)m.setFieldsValue(Object(p.a)({},I,t[I]))}},MZJn:function(Y,d,e){"use strict";e.d(d,"a",function(){return p});var p="--"},WoPx:function(Y,d,e){Y.exports={cardBox:"cardBox___2dV-L",item:"item___2v2O4",textBox:"textBox___2W46A",number:"number___2lrYT",text:"text___2IpZQ",itemRow:"itemRow___1AeWb",chart:"chart___2sger",card:"card___1Y3Uo",title:"title___1YbNj",circle:"circle___3R_4I",normal:"normal___3yOOx",fault:"fault___xGVbH",offLine:"offLine___2F5Lq"}},fe1z:function(Y,d,e){"use strict";e.d(d,"a",function(){return S}),e.d(d,"b",function(){return T}),e.d(d,"c",function(){return r});var p=e("9og8"),D=e("WmNS"),u=e.n(D),f=e("t3Un");function S(){return P.apply(this,arguments)}function P(){return P=Object(p.a)(u.a.mark(function O(){var o,l=arguments;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return o=l.length>0&&l[0]!==void 0?l[0]:{},a.abrupt("return",Object(f.a)("host",{method:"GET",params:{},body:JSON.stringify(o)},"http://192.168.101.238:80/"));case 2:case"end":return a.stop()}},O)})),P.apply(this,arguments)}function T(){return g.apply(this,arguments)}function g(){return g=Object(p.a)(u.a.mark(function O(){var o,l=arguments;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return o=l.length>0&&l[0]!==void 0?l[0]:{},a.abrupt("return",Object(f.a)("user/login",{method:"POST",params:{},body:JSON.stringify(o)},"http://192.168.101.238:8080/"));case 2:case"end":return a.stop()}},O)})),g.apply(this,arguments)}function r(){return j.apply(this,arguments)}function j(){return j=Object(p.a)(u.a.mark(function O(){var o,l=arguments;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return o=l.length>0&&l[0]!==void 0?l[0]:{},a.abrupt("return",Object(f.a)("user/exit",{method:"GET",params:{},body:JSON.stringify(o)},"http://192.168.101.238:8080/"));case 2:case"end":return a.stop()}},O)})),j.apply(this,arguments)}function A(){return s.apply(this,arguments)}function s(){return s=Object(p.a)(u.a.mark(function O(){var o,l=arguments;return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return o=l.length>0&&l[0]!==void 0?l[0]:{},a.abrupt("return",Object(f.a)("miner/summary",{method:"GET",params:{},body:JSON.stringify(o)},"http://192.168.101.238:8080/"));case 2:case"end":return a.stop()}},O)})),s.apply(this,arguments)}},lLCc:function(Y,d,e){"use strict";e.d(d,"f",function(){return S}),e.d(d,"e",function(){return T}),e.d(d,"a",function(){return r}),e.d(d,"b",function(){return A}),e.d(d,"c",function(){return O}),e.d(d,"d",function(){return l});var p=e("9og8"),D=e("WmNS"),u=e.n(D),f=e("t3Un");function S(){return P.apply(this,arguments)}function P(){return P=Object(p.a)(u.a.mark(function a(){var c,i=arguments;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return c=i.length>0&&i[0]!==void 0?i[0]:{},t.abrupt("return",Object(f.a)("miner/summary",{method:"GET",params:{},body:JSON.stringify(c)},"http://192.168.101.238:8080/"));case 2:case"end":return t.stop()}},a)})),P.apply(this,arguments)}function T(){return g.apply(this,arguments)}function g(){return g=Object(p.a)(u.a.mark(function a(){var c,i=arguments;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return c=i.length>0&&i[0]!==void 0?i[0]:{},t.abrupt("return",Object(f.a)("miner/pool/info",{method:"GET",params:{},body:JSON.stringify(c)},"http://192.168.101.238:8080/"));case 2:case"end":return t.stop()}},a)})),g.apply(this,arguments)}function r(){return j.apply(this,arguments)}function j(){return j=Object(p.a)(u.a.mark(function a(){var c,i=arguments;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return c=i.length>0&&i[0]!==void 0?i[0]:{},t.abrupt("return",Object(f.a)("miner/board/info",{method:"GET",params:{},body:JSON.stringify(c)},"http://192.168.101.238:8080/"));case 2:case"end":return t.stop()}},a)})),j.apply(this,arguments)}function A(){return s.apply(this,arguments)}function s(){return s=Object(p.a)(u.a.mark(function a(){var c,i=arguments;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return c=i.length>0&&i[0]!==void 0?i[0]:{},t.abrupt("return",Object(f.a)("miner/fan/info",{method:"GET",params:{},body:JSON.stringify(c)},"http://192.168.101.238:8080/"));case 2:case"end":return t.stop()}},a)})),s.apply(this,arguments)}function O(){return o.apply(this,arguments)}function o(){return o=Object(p.a)(u.a.mark(function a(){var c,i=arguments;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return c=i.length>0&&i[0]!==void 0?i[0]:{},t.abrupt("return",Object(f.a)("system/ui/titleBar",{method:"GET",params:{},body:JSON.stringify(c)},"http://192.168.101.238:8080/"));case 2:case"end":return t.stop()}},a)})),o.apply(this,arguments)}function l(){return h.apply(this,arguments)}function h(){return h=Object(p.a)(u.a.mark(function a(){var c,i=arguments;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return c=i.length>0&&i[0]!==void 0?i[0]:{},t.abrupt("return",Object(f.a)("miner/hashrate",{method:"POST",params:{},body:JSON.stringify(c)},"http://192.168.101.238:8080/"));case 2:case"end":return t.stop()}},a)})),h.apply(this,arguments)}},oQVF:function(Y,d,e){"use strict";e.r(d);var p=e("g9YV"),D=e("wCAj"),u=e("oBTY"),f=e("9og8"),S=e("tJVT"),P=e("WmNS"),T=e.n(P),g=e("q1tI"),r=e.n(g),j=e("9kvl"),A=e("WoPx"),s=e.n(A),O=e("EcEN"),o=e.n(O),l=function(W){var n=W.dataSource,M=W.columns;return r.a.createElement("div",null,r.a.createElement(D.a,{dataSource:n,columns:M,pagination:!1,rowKey:o()()+"index"}))},h=l,a=e("lLCc"),c=e("fWQN"),i=e("mtLc"),y=e("yKVA"),t=e("879j"),m=e("MT78"),I=e("Wgwc"),$=e.n(I),v=function(te){Object(y.a)(n,te);var W=Object(t.a)(n);function n(){var M;Object(c.a)(this,n);for(var G=arguments.length,z=new Array(G),J=0;J<G;J++)z[J]=arguments[J];return M=W.call.apply(W,[this].concat(z)),M.initCharts=function(){var Z=document.getElementById("myChart"),C=m.a(Z),E={tooltip:{trigger:"axis",axisPointer:{animation:!1},backgroundColor:"rgba(0,0,0,0.7)",formatter:function(x){var R='<div style="color: rgb(255, 255, 255);font-size:16px">'+$()(x[0].axisValue).format("YYYY/MM/DD HH:mm:ss");x[0].axisValue+"";for(var b=0;b<x.length;b++)R+=`<div style="color: rgb(255, 255, 255);margin-top:4px"}>
              <span style="width:10px;height:4px;background-color:`.concat(x[b].color,`;display:inline-block"></span>
              `).concat(x[b].seriesName,`:
              <span style="padding-left:4px;">
              `).concat(x[b].value[1],`
              </span> 
              </div>`);return R}},grid:{top:"25px",right:"15px",bottom:"25px"},color:["#FF6300","#00CD2D","#5FCCCD","#78797A"],legend:{icon:"rect",itemWidth:10,itemHeight:6,itemGap:10,data:M.props.legend},xAxis:{type:"time",splitLine:{show:!1},splitNumber:8,axisLine:{lineStyle:{color:"#333"}},axisLabel:{formatter:function(x,R){var b=new Date(x),H=b.getHours(),N=b.getMinutes();return H<10&&(H="0"+H),N<10&&(N="0"+N),H+":"+N},color:"#1B2232"}},yAxis:[{type:"value",axisLine:{lineStyle:{color:"#333"}},axisLabel:{formatter:"{value} TH/s"}}],series:M.props.echartList};E&&C.setOption(E),window.addEventListener("resize",function(){C.resize()})},M}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.initCharts()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{id:"myChart",style:{width:"100%",height:"220px"}}))}}]),n}(r.a.Component),V=e("5dcc"),k={0:"\u5728\u7EBF",1:"\u79BB\u7EBF"},q={0:"\u6B63\u5E38",1:"\u5F02\u5E38",2:"\u6545\u969C"},ee={0:"chain0",1:"chain1",2:"chain2",3:"chain3","-1":"total"},F=e("MZJn"),re=e("LvDl"),Ee=e.n(re),ye=e("TSYQ"),Ie=e.n(ye),be=function(){var W=Object(j.h)(),n=W.formatMessage,M=Object(g.useState)([]),G=Object(S.a)(M,2),z=G[0],J=G[1];Object(g.useEffect)(function(){var C=function(){var E=Object(f.a)(T.a.mark(function L(){var x,R,b;return T.a.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.next=2,Object(a.a)();case 2:x=N.sent,R=x.code,b=x.data,R==200&&!Ee.a.isEmpty(b.boards)&&J(b.boards);case 6:case"end":return N.stop()}},L)}));return function(){return E.apply(this,arguments)}}();C()},[]);var Z=[{title:n({id:"userIndex.calculationBoard"}),dataIndex:"index",render:function(E){return E+1}},{title:n({id:"userIndex.sssl"}),align:"center",dataIndex:"hashrateRealTime",render:function(E){return Object(V.g)(E,F.a)}},{title:n({id:"userIndex.hashrateInTheory"}),align:"center",dataIndex:"hashrateInTheory",render:function(E){return Object(V.g)(E,F.a)}},{title:n({id:"userIndex.hardwareErrs"}),align:"center",dataIndex:"hardwareErrs"},{title:n({id:"userIndex.receiveNum"}),align:"center",dataIndex:"receiveNum"},{title:n({id:"userIndex.rejectNum"}),align:"center",dataIndex:"rejectNum"},{title:n({id:"userIndex.temp"}),align:"center",dataIndex:"temp",render:function(E){return Object(V.g)(E,F.a)}},{title:n({id:"userIndex.titleBordState"}),align:"center",dataIndex:"status",render:function(E){var L="normal";switch(E){case 1:L="fault";break;case 2:L="offLine";break;case 0:L="normal";break}return r.a.createElement("span",null,r.a.createElement("i",{className:Ie()([s.a.circle,s.a[L]])}),q[E])}}];return r.a.createElement("div",null,r.a.createElement(D.a,{dataSource:z,columns:Z,pagination:!1,rowKey:"index"}))},je=be,xe=function(){var W=Object(j.h)(),n=W.formatMessage,M=Object(g.useState)([]),G=Object(S.a)(M,2),z=G[0],J=G[1],Z=Object(g.useState)([]),C=Object(S.a)(Z,2),E=C[0],L=C[1],x=Object(g.useState)([{bg:"linear-gradient(225deg, #6934C3 0%, #C65DDA 100%)",num:F.a,text:n({id:"userIndex.sssl"})},{bg:"linear-gradient(225deg, #1D76E8 0%, #00D8A1 100%)",num:F.a,text:n({id:"userIndex.rejectRate"})},{bg:"linear-gradient(225deg, #7F35FC 0%, #00BAF5 100%)",num:F.a,text:n({id:"userIndex.runTime"})},{bg:"linear-gradient(225deg, #FF675C 0%, #FFBD63 100%)",num:F.a,text:n({id:"userIndex.minerTemperature"})}]),R=Object(S.a)(x,2),b=R[0],H=R[1],N=Object(g.useState)({dataSource:[],fanSource:[]}),oe=Object(S.a)(N,2),le=oe[0],De=oe[1],Se=function(){var K=Object(f.a)(T.a.mark(function B(){var ce,me,fe,ge;return T.a.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,Object(a.f)();case 2:return ce=U.sent,U.next=5,Object(a.e)();case 5:return me=U.sent,U.next=8,Object(a.b)();case 8:return fe=U.sent,U.next=11,Object(a.d)({sinceTime:0,untilTime:0});case 11:ge=U.sent,Promise.all([ce,me,fe,ge]).then(function(ae){var se=ae[0],ie=ae[1],ue=ae[2],de={},Ne=ae[3].data.hashrate.points;if(se.code==200&&!_.isEmpty(se.data.summary)){var ne=se.data.summary,Le=ne.runTime,Be=ne.hashrate,Ue=ne.rejectRate,Ae=ne.temp,X=Object(u.a)(b);X[0].num=Be,X[1].num=Ue,X[2].num=Le,X[3].num=Ae,H(X)}if(ie.code==200&&!_.isEmpty(ie.data.pools)&&(de.dataSource=ie.data.pools),ue.code==200&&!_.isEmpty(ue.data.fans)){var We=ue.data.fans,he=[{}];We.map(function(w,Oe){he[0]["fan".concat(Oe)]=Object(V.d)(w.fanRpm)}),de.fanSource=he}var ve=[],pe=[];Ne.map(function(w,Oe){var Q={};Q.name=ee[w.index],Q.data=w.points,Q.type="line",Q.smooth=!0,Q.symbol="none",pe.push(ee[w.index]),ve.push(Q),J(pe)}),L(ve),De(de)});case 13:case"end":return U.stop()}},B)}));return function(){return K.apply(this,arguments)}}();Object(g.useEffect)(function(){Se()},[]);var Pe=[{title:n({id:"userIndex.index"}),dataIndex:"index",render:function(B){return B+1}},{title:n({id:"userIndex.address"}),align:"center",dataIndex:"address"},{title:n({id:"userIndex.status"}),align:"center",dataIndex:"status",render:function(B){return k[B]}},{title:n({id:"userIndex.name"}),align:"center",dataIndex:"name"},{title:n({id:"userIndex.diff"}),align:"center",dataIndex:"diff"},{title:n({id:"userIndex.receiveNum"}),align:"center",dataIndex:"receiveNum"},{title:n({id:"userIndex.rejectNum"}),align:"center",dataIndex:"rejectNum"},{title:"LSTime",align:"center",dataIndex:"lsTime",render:function(B){return B&&$()(B*1e3).format("YYYY-MM-DD")}}],Me=[{title:n({id:"userIndex.fan"}),dataIndex:"fan",render:function(){return n({id:"userIndex.speed"})}},{title:n({id:"userIndex.speed1"}),dataIndex:"fan0",align:"center"},{title:n({id:"userIndex.speed2"}),dataIndex:"fan1",align:"center"},{title:n({id:"userIndex.speed3"}),dataIndex:"fan2",align:"center"},{title:n({id:"userIndex.speed4"}),dataIndex:"fan3",align:"center"}],Te=le.dataSource,Ce=le.fanSource;return r.a.createElement("div",{className:s.a.userwrap},r.a.createElement("div",{className:s.a.item},r.a.createElement("div",{className:s.a.itemRow},b.map(function(K,B){return r.a.createElement("div",{className:s.a.cardBox,style:{background:K.bg},key:B},r.a.createElement("div",{className:s.a.textBox},r.a.createElement("div",{className:s.a.number},K.num),r.a.createElement("div",{className:s.a.text},K.text)))})),r.a.createElement("div",{className:s.a.chart},E.length>0&&r.a.createElement(v,{echartList:E,legend:z}))),r.a.createElement("div",{className:s.a.card},r.a.createElement("span",{className:s.a.title},n({id:"userIndex.titlePoolConfig"})),r.a.createElement(D.a,{dataSource:Te,columns:Pe,pagination:!1,rowKey:"index"})),r.a.createElement("div",{className:s.a.card},r.a.createElement("span",{className:s.a.title},n({id:"userIndex.titleBordState"})),r.a.createElement(je,null)),r.a.createElement("div",{className:s.a.card},r.a.createElement("span",{className:s.a.title},n({id:"userIndex.titleFan"})),r.a.createElement(h,{dataSource:Ce,columns:Me})))},Re=d.default=xe},t3Un:function(Y,d,e){"use strict";e.d(d,"a",function(){return A});var p=e("9og8"),D=e("k1fw"),u=e("WmNS"),f=e.n(u),S=e("Qyje"),P=e.n(S),T=function(O,o){var l=O,h=Object.keys(o);return h.length!=0&&(l+="?"+P.a.stringify(o)),l},g=e("p46w"),r=e.n(g),j=e("Hg0r").fetch;function A(s){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",l={method:"GET"},h=Object(D.a)(Object(D.a)({},l),O);h.headers=Object(D.a)({Accept:"application/json"},h.headers),r.a.get("token")&&(h.headers.token=r.a.get("token"));var a="";return s=="host"?a=o:a=localStorage.getItem("address")?"http://"+localStorage.getItem("address")+"/":o,s=T(s,O.params),h.method=="GET"&&delete h.body,j(a+s,h).then(function(){var c=Object(p.a)(f.a.mark(function i(y){var t,m,I;return f.a.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return t=y.status,v.next=3,y.json();case 3:if(m=v.sent,!(y.status>=200&&y.status<300)){v.next=6;break}return v.abrupt("return",m);case 6:if(!(t>=400||t>=500)){v.next=11;break}throw I=new Error,I.response=y,I.data=m,I;case 11:case"end":return v.stop()}},i)}));return function(i){return c.apply(this,arguments)}}()).catch(function(c){var i=503,y="\u94FE\u63A5\u670D\u52A1\u5668\u8D85\u65F6";throw y})}}}]);
